###############################################################################
#                                                                             #
# IAR ARM ANSI C/C++ Compiler V5.10.5.372/W32           12/Jun/2013  19:50:33 #
# Copyright 1999-2007 IAR Systems. All rights reserved.                       #
#                                                                             #
#    Cpu mode     =  thumb                                                    #
#    Endian       =  little                                                   #
#    Source file  =  D:\Zeuron\Projekty\S300\S300-program v1.4 -              #
#                    12.06.2013\Framework\RF.c                                #
#    Command line =  "D:\Zeuron\Projekty\S300\S300-program v1.4 -             #
#                    12.06.2013\Framework\RF.c" -D AT91SAM7S256 -D            #
#                    AT91SAM7SEK -D iH -D _LCD_NEGATIV_OLD_ -D __ALARM -D     #
#                    __WIFI_MODULE -D _DEBUG_ -D S300iOld -D _TESTER_ -lC     #
#                    "D:\Zeuron\Projekty\S300\S300-program v1.4 -             #
#                    12.06.2013\TESTER S300X (Old)\List\" --diag_suppress     #
#                    Pa082 -o "D:\Zeuron\Projekty\S300\S300-program v1.4 -    #
#                    12.06.2013\TESTER S300X (Old)\Obj\" --no_unroll          #
#                    --no_inline --no_tbaa --no_scheduling --debug --endian   #
#                    little --cpu ARM7TDMI -e --fpu None --dlib_config        #
#                    "C:\Program Files (x86)\IAR Systems\Embedded Workbench   #
#                    5.0\ARM\INC\DLib_Config_Normal.h" -I                     #
#                    "D:\Zeuron\Projekty\S300\S300-program v1.4 -             #
#                    12.06.2013\lib\AT91SAM7S256\" -I                         #
#                    "D:\Zeuron\Projekty\S300\S300-program v1.4 -             #
#                    12.06.2013\lib\AT91SAM7S64\" -I                          #
#                    "D:\Zeuron\Projekty\S300\S300-program v1.4 -             #
#                    12.06.2013\" -I "D:\Zeuron\Projekty\S300\S300-program    #
#                    v1.4 - 12.06.2013\cdc\" -I "D:\Zeuron\Projekty\S300\S300 #
#                    -program v1.4 - 12.06.2013\core\" -I                     #
#                    "D:\Zeuron\Projekty\S300\S300-program v1.4 -             #
#                    12.06.2013\startup\" -I "D:\Zeuron\Projekty\S300\S300-pr #
#                    ogram v1.4 - 12.06.2013\Framework\" -I                   #
#                    "D:\Zeuron\Projekty\S300\S300-program v1.4 -             #
#                    12.06.2013\Framework\Configuration\" -I "C:\Program      #
#                    Files (x86)\IAR Systems\Embedded Workbench               #
#                    5.0\ARM\INC\" --section .text=Debug.txt --interwork      #
#                    --cpu_mode thumb -Om                                     #
#    List file    =  D:\Zeuron\Projekty\S300\S300-program v1.4 -              #
#                    12.06.2013\TESTER S300X (Old)\List\RF.lst                #
#    Object file  =  D:\Zeuron\Projekty\S300\S300-program v1.4 -              #
#                    12.06.2013\TESTER S300X (Old)\Obj\RF.o                   #
#                                                                             #
#                                                                             #
###############################################################################

D:\Zeuron\Projekty\S300\S300-program v1.4 - 12.06.2013\Framework\RF.c
      1          //****************************************************************************//
      2          //*--------------------------------------------------------------------------*//
      3          //*                  Microcontroller Software Support                        *//                       
      4          //*--------------------------------------------------------------------------*//
      5          //*--------------------------------------------------------------------------*//
      6          //*  Nazwa pliku                  : RF.c                                     *//
      7          //*  Opis                         : Plik obs³ugi sprzêtowej komunikacji radiowej *//
      8          //*  Autor                        : Pawe³ Narwojsz                           *//
      9          //*  Data utrzorzenia             : 31.06.2010                               *//
     10          //*  Data ostatniej modyfikacji   : --.--.----                               *//
     11          //*--------------------------------------------------------------------------*//
     12          //*                                                                          *//
     13          //*--------------------------------------------------------------------------*//
     14          //* Rejestr zmian  (data - opis):                                            *//
     15          //*                                                                          *//
     16          //*                               Brak zmian                                 *//
     17          //*                                                                          *//
     18          //*__________________________________________________________________________*// 
     19          //****************************************************************************//
     20          //****************************************************************************//
     21          
     22          
     23          
     24                #include "RF.h"   
     25                #include "RF_Exe.h"

   \                                 In section Debug.txt, align 4
   \   __??Code16?? __code __interwork void AT91F_AIC_EnableIt(AT91PS_AIC, unsigned int)
   \                     AT91F_AIC_EnableIt:
   \   00000000   9022               MOVS     R2,#+144
   \   00000002   5200               LSLS     R2,R2,#+1        ;; #+288
   \   00000004   0123               MOVS     R3,#+1
   \   00000006   8B40               LSLS     R3,R3,R1
   \   00000008   8350               STR      R3,[R0, R2]
   \   0000000A   7047               BX       LR               ;; return

   \                                 In section Debug.txt, align 4
   \   __??Code16?? __code __interwork void AT91F_PIO_CfgInput(AT91PS_PIO, unsigned int)
   \                     AT91F_PIO_CfgInput:
   \   00000000   4161               STR      R1,[R0, #+20]
   \   00000002   0160               STR      R1,[R0, #+0]
   \   00000004   7047               BX       LR               ;; return

   \                                 In section Debug.txt, align 4
   \   __??Code16?? __code __interwork void AT91F_PIO_InterruptEnable(AT91PS_PIO, unsigned int)
   \                     AT91F_PIO_InterruptEnable:
   \   00000000   0164               STR      R1,[R0, #+64]
   \   00000002   7047               BX       LR               ;; return

   \                                 In section Debug.txt, align 4
   \   __??Code16?? __code __interwork void AT91F_PMC_EnablePeriphClock(AT91PS_PMC, unsigned int)
   \                     AT91F_PMC_EnablePeriphClock:
   \   00000000   0161               STR      R1,[R0, #+16]
   \   00000002   7047               BX       LR               ;; return
     26                #include <intrinsics.h>
     27                #include "Framework.h"
     28                #include "core/device.h"   
     29                #include "board.h"   
     30                #include "spi_main.h"
     31                #include "core/trace.h"
     32                #include "InterruptPriority.h"

                                          
                                          ^
"D:\Zeuron\Projekty\S300\S300-program v1.4 - 12.06.2013\Framework\Configuration\InterruptPriority.h",59  Warning[Pe001]: 
          last line of file ends without a newline
     33          
     34          
     35          
     36          
     37          

   \                                 In section .bss, align 4
     38          _RF_Rx RF_Rx;
   \                     RF_Rx:
   \   00000000                      DS8 24
     39          _RF_Tx RF_Tx;
     40          
     41          char SPI_RFM12_Read=0;
     42          

   \                                 In section .rodata, align 4
     43          const char Preambu[]={0xAA, 0xAA, 0xAA};  //Preambu³a
   \                     Preambu:
   \   00000000   AAAAAA00           DC8 170, 170, 170, 0

   \                                 In section .rodata, align 4
     44          const char SynKay[]= {0x2D, 0xD4};        //s³owo synchronizacyjne
   \                     SynKay:
   \   00000000   2DD40000           DC8 45, 212, 0, 0
     45          
     46          
     47          
     48          
     49          
     50          
     51          
     52          
     53          
     54          
     55          
     56          //Zmienne globalne -------------------------------------------------------------
     57            _RF_Status RF_Status;
     58          //___________________________Koniec zmiennych globalnych________________________
     59          
     60          
     61            extern unsigned long long  g_counter;
     62            extern char g_RF_TimeOutCounter;
     63            extern volatile char SlaveMode;
     64            
     65           char tmp_int=0;
     66            
     67          //Tworzenie pse³do-klasy RF_Status --------------------------------------------
     68              
     69            //Uruchomienie trybu Nadajnika

   \                                 In section Debug.txt, align 4, keep-with-next
     70            void _RF_EnableTX(void)
     71            {
   \                     _RF_EnableTX:
   \   00000000   31B5               PUSH     {R0,R4,R5,LR}
     72               
     73              RF_Status.EnRx=0;
   \   00000002   ....               LDR      R4,??DataTable12  ;; RF_Status
   \   00000004   0020               MOVS     R0,#+0
   \   00000006   6070               STRB     R0,[R4, #+1]
     74              RF_Status.EnTx=0;
   \   00000008   A070               STRB     R0,[R4, #+2]
     75              RF_Status.Transmit=0;
   \   0000000A   2072               STRB     R0,[R4, #+8]
     76              RF_Tx.BytesToSend=0;
   \   0000000C   ....               LDR      R1,??DataTable10  ;; RF_Tx + 20
   \   0000000E   0870               STRB     R0,[R1, #+0]
     77              RF_Status.EnRxWait=0;
   \   00000010   A072               STRB     R0,[R4, #+10]
     78              RF_Status.RxStarting=0;
   \   00000012   A071               STRB     R0,[R4, #+6]
     79              RF_Status.TxStarting=1;
   \   00000014   0125               MOVS     R5,#+1
   \   00000016   2800               MOVS     R0,R5
   \   00000018   6071               STRB     R0,[R4, #+5]
     80          
     81              SPI_SendWord(0x8219,Cs_RF);                          //wy³¹cz odbiornik/nadajnik
                     ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   0000001A   0221               MOVS     R1,#+2
   \   0000001C   ....               LDR      R0,??DataTable2  ;; 0x8219
   \   0000001E   ........           BL       SPI_SendWord
     82              RF_Status.InitTx=1;
   \   00000022   E570               STRB     R5,[R4, #+3]
     83          
     84          #ifdef __MaxRf
     85              AT91C_BASE_PIOA->PIO_SODR =TxPin; 
     86          #endif    
     87            }
   \   00000024   38BC               POP      {R3-R5}
   \   00000026   01BC               POP      {R0}
   \   00000028   0047               BX       R0               ;; return
     88          
     89          
     90            
     91            
     92            
     93            
     94           //Uruchomienie trybu odbiornika

   \                                 In section Debug.txt, align 4, keep-with-next
     95           void _RF_EnableRX(void)
     96            {
   \                     _RF_EnableRX:
   \   00000000   10B5               PUSH     {R4,LR}
     97              //Je¿eli przy prubie prze³¹czenia wysy³ane s¹ dane to poczekaj na zakoñczenie wysy³ki
     98              if ((RF_Tx.BytesToSend>0)) 
   \   00000002   ....               LDR      R4,??DataTable13  ;; RF_Tx
   \   00000004   207D               LDRB     R0,[R4, #+20]
   \   00000006   0028               CMP      R0,#+0
   \   00000008   03D0               BEQ      ??_RF_EnableRX_0
     99              {
    100                RF_Status.EnRxWait=1; 
   \   0000000A   0C48               LDR      R0,??_RF_EnableRX_1  ;; RF_Status + 10
   \   0000000C   0121               MOVS     R1,#+1
   \   0000000E   0170               STRB     R1,[R0, #+0]
   \   00000010   10E0               B        ??_RF_EnableRX_2
    101              }else{
    102          
    103                SPI_SendWord(0x8067,Cs_RF); 
                       ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \                     ??_RF_EnableRX_0:
   \   00000012   0221               MOVS     R1,#+2
   \   00000014   ....               LDR      R0,??DataTable14  ;; 0x8067
   \   00000016   ........           BL       SPI_SendWord
    104                
    105                RF_Status.EnTx=0;
   \   0000001A   ....               LDR      R0,??DataTable12  ;; RF_Status
   \   0000001C   0021               MOVS     R1,#+0
   \   0000001E   8170               STRB     R1,[R0, #+2]
    106                RF_Status.EnRx=0;
   \   00000020   4170               STRB     R1,[R0, #+1]
    107                RF_Tx.BytesToSend=0;
   \   00000022   2175               STRB     R1,[R4, #+20]
    108                RF_Status.Transmit=0;
   \   00000024   0172               STRB     R1,[R0, #+8]
    109                RF_Status.TxStarting=0;
   \   00000026   4171               STRB     R1,[R0, #+5]
    110                RF_Status.RxStarting=1;
   \   00000028   0121               MOVS     R1,#+1
   \   0000002A   8171               STRB     R1,[R0, #+6]
    111                
    112                SPI_SendWord(0x8299,Cs_RF);
   \   0000002C   0221               MOVS     R1,#+2
   \   0000002E   ....               LDR      R0,??DataTable6  ;; 0x8299
   \   00000030   ........           BL       SPI_SendWord
    113          
    114          
    115          
    116              }
    117            }
   \                     ??_RF_EnableRX_2:
   \   00000034   10BC               POP      {R4}
   \   00000036   01BC               POP      {R0}
   \   00000038   0047               BX       R0               ;; return
   \   0000003A   C046               Nop      
   \                     ??_RF_EnableRX_1:
   \   0000003C   ........           DC32     RF_Status + 10
    118          
    119            //Konstruktor RF_Status

   \                                 In section Debug.txt, align 4, keep-with-next
    120            void _pRF_Status(void)
    121            {
    122              RF_Status.EnableTX = _RF_EnableTX;
   \                     _pRF_Status:
   \   00000000   ....               LDR      R0,??DataTable12  ;; RF_Status
   \   00000002   0249               LDR      R1,??_pRF_Status_0  ;; _RF_EnableTX
   \   00000004   4162               STR      R1,[R0, #+36]
    123              RF_Status.EnableRX = _RF_EnableRX; 
   \   00000006   0249               LDR      R1,??_pRF_Status_0+0x4  ;; _RF_EnableRX
   \   00000008   8162               STR      R1,[R0, #+40]
    124            }
   \   0000000A   7047               BX       LR               ;; return
   \                     ??_pRF_Status_0:
   \   0000000C   ........           DC32     _RF_EnableTX
   \   00000010   ........           DC32     _RF_EnableRX
    125          
    126          //________koniec tworzenia pse³do-klasy RF_Status _______________________________
    127          
    128          
    129          
    130          
    131          
    132          

   \                                 In section Debug.txt, align 4, keep-with-next
    133          void InitRF_Interrupt(void)
    134          {
   \                     InitRF_Interrupt:
   \   00000000   31B5               PUSH     {R0,R4,R5,LR}
    135              AT91F_PIO_CfgInput(IR_PIO_BUS, RfIntBUS);
   \   00000002   ....               LDR      R4,??DataTable11  ;; 0xfffff400
   \   00000004   8025               MOVS     R5,#+128
   \   00000006   ED00               LSLS     R5,R5,#+3        ;; #+1024
   \   00000008   2900               MOVS     R1,R5
   \   0000000A   2000               MOVS     R0,R4
   \   0000000C   ........           BL       AT91F_PIO_CfgInput
    136              AT91F_PIO_InterruptEnable(PIO_RfIntBUS, RfIntBUS);
   \   00000010   2900               MOVS     R1,R5
   \   00000012   2000               MOVS     R0,R4
   \   00000014   ........           BL       AT91F_PIO_InterruptEnable
    137              AT91F_AIC_EnableIt(AT91C_BASE_AIC, ID_RfIntBUS);
   \   00000018   0221               MOVS     R1,#+2
   \   0000001A   0348               LDR      R0,??InitRF_Interrupt_0  ;; 0xfffff000
   \   0000001C   ........           BL       AT91F_AIC_EnableIt
    138          }
   \   00000020   38BC               POP      {R3-R5}
   \   00000022   01BC               POP      {R0}
   \   00000024   0047               BX       R0               ;; return
   \   00000026   C046               Nop      
   \                     ??InitRF_Interrupt_0:
   \   00000028   00F0FFFF           DC32     0xfffff000
    139          
    140            
    141            
    142          
    143          

   \                                 In section Debug.txt, align 4, keep-with-next
    144          void RF_Int(void)
    145          {
   \                     RF_Int:
   \   00000000   01B5               PUSH     {R0,LR}
    146            
    147              
    148              //je¿eli uka³d dzia³a jako odbiornik
    149              if (RF_Status.EnRx) 
   \   00000002   ....               LDR      R0,??DataTable12  ;; RF_Status
   \   00000004   4178               LDRB     R1,[R0, #+1]
   \   00000006   0029               CMP      R1,#+0
   \   00000008   06D0               BEQ      ??RF_Int_0
    150              {
    151                if (RF_Status.Init==0) 
   \   0000000A   0078               LDRB     R0,[R0, #+0]
   \   0000000C   0028               CMP      R0,#+0
   \   0000000E   1CD1               BNE      ??RF_Int_1
    152                {
    153                  SPI_SendWord(0x0000,Cs_RF);
                         ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   00000010   0221               MOVS     R1,#+2
   \   00000012   ........           BL       SPI_SendWord
   \   00000016   18E0               B        ??RF_Int_1
    154                }
    155              }
    156              //je¿eli uka³d dzia³a jako nadajnik
    157              else if ((RF_Status.EnTx) && (RF_Status.Transmit==1))  
   \                     ??RF_Int_0:
   \   00000018   8178               LDRB     R1,[R0, #+2]
   \   0000001A   0029               CMP      R1,#+0
   \   0000001C   15D0               BEQ      ??RF_Int_1
   \   0000001E   017A               LDRB     R1,[R0, #+8]
   \   00000020   0129               CMP      R1,#+1
   \   00000022   12D1               BNE      ??RF_Int_1
    158              {
    159          
    160                
    161                if (RF_Tx.BytesToSend>0) 
   \   00000024   ....               LDR      R1,??DataTable10  ;; RF_Tx + 20
   \   00000026   0978               LDRB     R1,[R1, #+0]
   \   00000028   0029               CMP      R1,#+0
   \   0000002A   02D0               BEQ      ??RF_Int_2
    162                {    
    163                  RF_transmit();
   \   0000002C   ........           BL       RF_transmit
   \   00000030   0BE0               B        ??RF_Int_1
    164                }
    165                else if (RF_Status.EnRxWait)
   \                     ??RF_Int_2:
   \   00000032   817A               LDRB     R1,[R0, #+10]
   \   00000034   0029               CMP      R1,#+0
   \   00000036   07D0               BEQ      ??RF_Int_3
    166                {
    167                  RF_Status.Transmit=0;
   \   00000038   0021               MOVS     R1,#+0
   \   0000003A   0A00               MOVS     R2,R1
   \   0000003C   0272               STRB     R2,[R0, #+8]
    168                  RF_Status.EnRxWait=0;
   \   0000003E   8172               STRB     R1,[R0, #+10]
    169                  RF_Status.EnableRX();
   \   00000040   806A               LDR      R0,[R0, #+40]
   \   00000042   ........           BL       __iar_via_R0
   \   00000046   00E0               B        ??RF_Int_1
    170                }
    171                else
    172                {
    173                   RF_Status.Transmit=0; 
   \                     ??RF_Int_3:
   \   00000048   0172               STRB     R1,[R0, #+8]
    174                }
    175              }
    176           
    177          
    178          }//_____________________________________________________________________________
   \                     ??RF_Int_1:
   \   0000004A   08BC               POP      {R3}
   \   0000004C   01BC               POP      {R0}
   \   0000004E   0047               BX       R0               ;; return
    179          //
    180          
    181          
    182          
    183          
    184          
    185          
    186          

   \                                 In section Debug.txt, align 4, keep-with-next
    187          void ConfigureRFBus(void)
    188          {
   \                     ConfigureRFBus:
   \   00000000   01B5               PUSH     {R0,LR}
    189          #if !defined(IR_RF_DEF)
    190              AT91F_PMC_EnablePeriphClock(AT91C_BASE_PMC, 1 << ID_RfIntBUS);
   \   00000002   0421               MOVS     R1,#+4
   \   00000004   0548               LDR      R0,??ConfigureRFBus_0  ;; 0xfffffc00
   \   00000006   ........           BL       AT91F_PMC_EnablePeriphClock
    191              AT91F_PIO_CfgInput(IR_PIO_BUS, RfIntBUS);
   \   0000000A   8021               MOVS     R1,#+128
   \   0000000C   C900               LSLS     R1,R1,#+3        ;; #+1024
   \   0000000E   ....               LDR      R0,??DataTable11  ;; 0xfffff400
   \   00000010   ........           BL       AT91F_PIO_CfgInput
    192              
    193          #endif
    194          }
   \   00000014   08BC               POP      {R3}
   \   00000016   01BC               POP      {R0}
   \   00000018   0047               BX       R0               ;; return
   \   0000001A   C046               Nop      
   \                     ??ConfigureRFBus_0:
   \   0000001C   00FCFFFF           DC32     0xfffffc00

   \                                 In section .bss, align 4
   \                     RF_Tx:
   \   00000000                      DS8 24
    195          
    196          
    197          
    198          
    199          char IntCA81Flag=0;
   \                     IntCA81Flag:
   \   00000018                      DS8 1

   \                                 In section .bss, align 1
   \                     SPI_RFM12_Read:
   \   00000000                      DS8 1

   \                                 In section .bss, align 4
   \                     RF_Status:
   \   00000000                      DS8 44

   \                                 In section .bss, align 1
   \                     tmp_int:
   \   00000000                      DS8 1
    200          

   \                                 In section Debug.txt, align 4, keep-with-next
    201          void RF_Init(void)
    202          { 
   \                     RF_Init:
   \   00000000   10B5               PUSH     {R4,LR}
    203            #ifndef RF_Int_Init_DEF
    204            
    205            TRACE_INFO("RF_Init \n\r"); 
    206            
    207                //ustawienia pocz¹tkowe uk³adu
    208                RF_Status.RF_Status = _pRF_Status;
   \   00000002   ....               LDR      R4,??DataTable12  ;; RF_Status
   \   00000004   0C48               LDR      R0,??RF_Init_0   ;; _pRF_Status
   \   00000006   2062               STR      R0,[R4, #+32]
    209                RF_Status.RF_Status();  //konstruktor pse³do-klasy RF_Status
   \   00000008   ........           BL       _pRF_Status
    210                  
    211                
    212                
    213                      RF_Status.EnTx=0;
    214                RF_Status.EnRx=0;
    215                RF_Tx.BytesToSend=0;
    216                RF_Status.Transmit=0;
    217                RF_Status.TxStarting=0;
    218                RF_Status.RxStarting=0;
    219                    RF_Status.EnRx=0;
    220              RF_Status.EnTx=0;
    221              RF_Status.Transmit=0;
   \   0000000C   0020               MOVS     R0,#+0
   \   0000000E   2072               STRB     R0,[R4, #+8]
    222              RF_Tx.BytesToSend=0;
   \   00000010   ....               LDR      R1,??DataTable13  ;; RF_Tx
   \   00000012   0875               STRB     R0,[R1, #+20]
    223              RF_Status.EnRxWait=0;
   \   00000014   A072               STRB     R0,[R4, #+10]
    224              RF_Status.RxStarting=0;
   \   00000016   A071               STRB     R0,[R4, #+6]
    225              RF_Status.TxStarting=0;
   \   00000018   6071               STRB     R0,[R4, #+5]
    226              RF_Status.RfFuse=0;
   \   0000001A   6074               STRB     R0,[R4, #+17]
    227                
    228                  
    229              //Konfiguracja wstêpna
    230                  #ifdef RF_Master 
    231                        RF_Status.EnTx=1; 
    232                        RF_Status.EnRx=0; 
    233                  #else   
    234                        RF_Status.EnRx=1;
   \   0000001C   0122               MOVS     R2,#+1
   \   0000001E   1300               MOVS     R3,R2
   \   00000020   6370               STRB     R3,[R4, #+1]
    235                        RF_Status.EnTx=0; 
   \   00000022   A070               STRB     R0,[R4, #+2]
    236                  #endif
    237                
    238             
    239                        
    240                  
    241                  IntCA81Flag=0;
   \   00000024   0876               STRB     R0,[R1, #+24]
    242                  RF_Status.Init=1;
   \   00000026   2270               STRB     R2,[R4, #+0]
    243                  SPI_SendWord(0x8067,Cs_RF); //EL,EF,868band,12.0pF   - pierwszy rozkaz konfiguracji
                         ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   00000028   0221               MOVS     R1,#+2
   \   0000002A   ....               LDR      R0,??DataTable14  ;; 0x8067
   \   0000002C   ........           BL       SPI_SendWord
    244          
    245              
    246                 // AT91C_BASE_PIOA->PIO_SODR =SpeakerPin;  
    247                 //ButtonBipCounter=g_counter+1;
    248            
    249                  
    250             #endif
    251          }//_____________________________________________________________________________
   \   00000030   10BC               POP      {R4}
   \   00000032   01BC               POP      {R0}
   \   00000034   0047               BX       R0               ;; return
   \   00000036   C046               Nop      
   \                     ??RF_Init_0:
   \   00000038   ........           DC32     _pRF_Status
    252          
    253          
    254          
    255          
    256          
    257          
    258          
    259          
    260          
    261          
    262          
    263          
    264          
    265          
    266          

   \                                 In section .data, align 1
    267          char CountVal=16;
   \                     CountVal:
   \   00000000   10                 DC8 16

   \                                 In section Debug.txt, align 4, keep-with-next
    268          void SPI_RFM12_Execute(char *Buffer_Tx, char *Buffer_Rx)                                       
    269          {
   \                     SPI_RFM12_Execute:
   \   00000000   F1B5               PUSH     {R0,R4-R7,LR}
   \   00000002   0E00               MOVS     R6,R1
    270              int Order=  Buffer_Tx[0] | Buffer_Tx[1]<<8;
   \   00000004   0178               LDRB     R1,[R0, #+0]
   \   00000006   4078               LDRB     R0,[R0, #+1]
   \   00000008   0402               LSLS     R4,R0,#+8
   \   0000000A   0C43               ORRS     R4,R4,R1
    271          
    272              
    273              //Je¿eli uk³ad RF12 w trakcie inicjalizacji pierwotnej---------------------
    274              
    275          
    276          
    277              
    278              
    279              if (RF_Status.Init)
   \   0000000C   9E4D               LDR      R5,??SPI_RFM12_Execute_0  ;; RF_Status
   \   0000000E   2878               LDRB     R0,[R5, #+0]
   \   00000010   0028               CMP      R0,#+0
   \   00000012   00D1               BNE      .+4
   \   00000014   C7E0               B        ??SPI_RFM12_Execute_1
    280              {
    281                         
    282                if (Order==0x8067) 
   \   00000016   9D48               LDR      R0,??SPI_RFM12_Execute_0+0x4  ;; 0x8067
   \   00000018   8442               CMP      R4,R0
   \   0000001A   0FD1               BNE      ??SPI_RFM12_Execute_2
    283                //{ if (RF_Status.EnRx)  RF_Status.EnableRX(); else RF_Status.EnableTX(); } //Rozkaz: 0x80E7 - EL,EF,868band,12.0pF 
    284                { SPI_SendWord(0x8219,Cs_RF); 
                         ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   0000001C   0221               MOVS     R1,#+2
   \   0000001E   9C48               LDR      R0,??SPI_RFM12_Execute_0+0x8  ;; 0x8219
   \   00000020   ........           BL       SPI_SendWord
    285                 if (RF_Status.EnRx)  SPI_SendWord(0x8299,Cs_RF); else SPI_SendWord(0x8239,Cs_RF); 
   \   00000024   6878               LDRB     R0,[R5, #+1]
   \   00000026   0028               CMP      R0,#+0
   \   00000028   04D0               BEQ      ??SPI_RFM12_Execute_3
   \   0000002A   0221               MOVS     R1,#+2
   \   0000002C   9948               LDR      R0,??SPI_RFM12_Execute_0+0xC  ;; 0x8299
   \   0000002E   ........           BL       SPI_SendWord
   \   00000032   03E0               B        ??SPI_RFM12_Execute_2
   \                     ??SPI_RFM12_Execute_3:
   \   00000034   0221               MOVS     R1,#+2
   \   00000036   9848               LDR      R0,??SPI_RFM12_Execute_0+0x10  ;; 0x8239
   \   00000038   ........           BL       SPI_SendWord
    286                } //Rozkaz: 0x80E7 - EL,EF,868band,12.0pF 
    287               
    288          
    289                if ((Order==0x8299) || (Order==0x8239) || (Order==0x8219))
   \                     ??SPI_RFM12_Execute_2:
   \   0000003C   9548               LDR      R0,??SPI_RFM12_Execute_0+0xC  ;; 0x8299
   \   0000003E   8442               CMP      R4,R0
   \   00000040   05D0               BEQ      ??SPI_RFM12_Execute_4
   \   00000042   6038               SUBS     R0,R0,#+96
   \   00000044   8442               CMP      R4,R0
   \   00000046   02D0               BEQ      ??SPI_RFM12_Execute_4
   \   00000048   2038               SUBS     R0,R0,#+32
   \   0000004A   8442               CMP      R4,R0
   \   0000004C   1FD1               BNE      ??SPI_RFM12_Execute_5
    290                                 { SPI_SendWord(0xA000 | RF_SetFreqReg(RF_Status.Ch),Cs_RF); }       //Rozkaz: 0xA6xx Czêstotliwoæ bazowa (Kana³ 0)  - oryginalnie by³o 0xA640 - 868,0Mhz
                                          ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \                     ??SPI_RFM12_Execute_4:
   \   0000004E   0221               MOVS     R1,#+2
   \   00000050   0E00               MOVS     R6,R1
   \   00000052   A87B               LDRB     R0,[R5, #+14]
   \   00000054   ........           BL       __aeabi_ui2d
   \   00000058   904A               LDR      R2,??SPI_RFM12_Execute_0+0x14  ;; 0x33333333
   \   0000005A   914B               LDR      R3,??SPI_RFM12_Execute_0+0x18  ;; 0x3fd33333
   \   0000005C   ........           BL       __aeabi_dmul
   \   00000060   904A               LDR      R2,??SPI_RFM12_Execute_0+0x1C  ;; 0x5c28f5c3
   \   00000062   914B               LDR      R3,??SPI_RFM12_Execute_0+0x20  ;; 0x408ae28f
   \   00000064   ........           BL       __aeabi_dadd
   \   00000068   0022               MOVS     R2,#+0
   \   0000006A   904B               LDR      R3,??SPI_RFM12_Execute_0+0x24  ;; 0x40690000
   \   0000006C   ........           BL       __aeabi_dmul
   \   00000070   0022               MOVS     R2,#+0
   \   00000072   8F4B               LDR      R3,??SPI_RFM12_Execute_0+0x28  ;; 0xc104ff00
   \   00000074   ........           BL       __aeabi_dadd
   \   00000078   ........           BL       __aeabi_d2iz
   \   0000007C   0004               LSLS     R0,R0,#+16
   \   0000007E   0014               ASRS     R0,R0,#+16
   \   00000080   A021               MOVS     R1,#+160
   \   00000082   0902               LSLS     R1,R1,#+8        ;; #+40960
   \   00000084   0143               ORRS     R1,R1,R0
   \   00000086   0800               MOVS     R0,R1
   \   00000088   3100               MOVS     R1,R6
   \   0000008A   ........           BL       SPI_SendWord
    291                if (Order==(0xA000 | RF_SetFreqReg(RF_Status.Ch)))  
   \                     ??SPI_RFM12_Execute_5:
   \   0000008E   A87B               LDRB     R0,[R5, #+14]
   \   00000090   ........           BL       __aeabi_ui2d
   \   00000094   814A               LDR      R2,??SPI_RFM12_Execute_0+0x14  ;; 0x33333333
   \   00000096   824B               LDR      R3,??SPI_RFM12_Execute_0+0x18  ;; 0x3fd33333
   \   00000098   ........           BL       __aeabi_dmul
   \   0000009C   814A               LDR      R2,??SPI_RFM12_Execute_0+0x1C  ;; 0x5c28f5c3
   \   0000009E   824B               LDR      R3,??SPI_RFM12_Execute_0+0x20  ;; 0x408ae28f
   \   000000A0   ........           BL       __aeabi_dadd
   \   000000A4   0022               MOVS     R2,#+0
   \   000000A6   814B               LDR      R3,??SPI_RFM12_Execute_0+0x24  ;; 0x40690000
   \   000000A8   ........           BL       __aeabi_dmul
   \   000000AC   0022               MOVS     R2,#+0
   \   000000AE   804B               LDR      R3,??SPI_RFM12_Execute_0+0x28  ;; 0xc104ff00
   \   000000B0   ........           BL       __aeabi_dadd
   \   000000B4   ........           BL       __aeabi_d2iz
   \   000000B8   0004               LSLS     R0,R0,#+16
   \   000000BA   0014               ASRS     R0,R0,#+16
   \   000000BC   A021               MOVS     R1,#+160
   \   000000BE   0902               LSLS     R1,R1,#+8        ;; #+40960
   \   000000C0   0143               ORRS     R1,R1,R0
   \   000000C2   8C42               CMP      R4,R1
   \   000000C4   03D1               BNE      ??SPI_RFM12_Execute_6
    292                  
    293                                 { SPI_SendWord(0xC607,Cs_RF); }                          //Rozkaz: 0xC607 Szybkoæ transmisji 43kb/s         - oryginalnie by³o 0xC647 - 4,8kb/s
                                          ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   000000C6   0221               MOVS     R1,#+2
   \   000000C8   7A48               LDR      R0,??SPI_RFM12_Execute_0+0x2C  ;; 0xc607
   \   000000CA   ........           BL       SPI_SendWord
    294                if (Order==0xC607)  
   \                     ??SPI_RFM12_Execute_6:
   \   000000CE   7948               LDR      R0,??SPI_RFM12_Execute_0+0x2C  ;; 0xc607
   \   000000D0   8442               CMP      R4,R0
   \   000000D2   03D1               BNE      ??SPI_RFM12_Execute_7
    295                                 { SPI_SendWord(0x94A0,Cs_RF); }                          //Rozkaz: 0x94A0 VDI,FAST,134kHz,0dBm,-103dBm 
                                          ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   000000D4   0221               MOVS     R1,#+2
   \   000000D6   7848               LDR      R0,??SPI_RFM12_Execute_0+0x30  ;; 0x94a0
   \   000000D8   ........           BL       SPI_SendWord
    296                if (Order==0x94A0)  
   \                     ??SPI_RFM12_Execute_7:
   \   000000DC   7648               LDR      R0,??SPI_RFM12_Execute_0+0x30  ;; 0x94a0
   \   000000DE   8442               CMP      R4,R0
   \   000000E0   03D1               BNE      ??SPI_RFM12_Execute_8
    297                                 { SPI_SendWord(0xC2AC,Cs_RF); }                          //Rozkaz: 0xC2AC AL,!ml,DIG,DQD4 
                                          ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   000000E2   0221               MOVS     R1,#+2
   \   000000E4   7548               LDR      R0,??SPI_RFM12_Execute_0+0x34  ;; 0xc2ac
   \   000000E6   ........           BL       SPI_SendWord
    298                if (Order==0xC2AC)  
   \                     ??SPI_RFM12_Execute_8:
   \   000000EA   7448               LDR      R0,??SPI_RFM12_Execute_0+0x34  ;; 0xc2ac
   \   000000EC   8442               CMP      R4,R0
   \   000000EE   03D1               BNE      ??SPI_RFM12_Execute_9
    299                                 { SPI_SendWord(0xCA81,Cs_RF); }                          //Rozkaz: 0xCA81 FIFO8,SYNC,!ff,DR 
                                          ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   000000F0   0221               MOVS     R1,#+2
   \   000000F2   7348               LDR      R0,??SPI_RFM12_Execute_0+0x38  ;; 0xca81
   \   000000F4   ........           BL       SPI_SendWord
    300                if ((Order==0xCA81) && (IntCA81Flag==0))  
   \                     ??SPI_RFM12_Execute_9:
   \   000000F8   714E               LDR      R6,??SPI_RFM12_Execute_0+0x38  ;; 0xca81
   \   000000FA   B442               CMP      R4,R6
   \   000000FC   0AD1               BNE      ??SPI_RFM12_Execute_10
   \   000000FE   714F               LDR      R7,??SPI_RFM12_Execute_0+0x3C  ;; RF_Tx
   \   00000100   387E               LDRB     R0,[R7, #+24]
   \   00000102   0028               CMP      R0,#+0
   \   00000104   06D1               BNE      ??SPI_RFM12_Execute_10
    301                                 { SPI_SendWord(0xCED4,Cs_RF); IntCA81Flag=1; Order=0xFFFF;}   //Rozkaz: 0xCED4 ustawienie s³owa synchronizacyjnego na 0x2DD4 
                                          ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   00000106   0221               MOVS     R1,#+2
   \   00000108   6F48               LDR      R0,??SPI_RFM12_Execute_0+0x40  ;; 0xced4
   \   0000010A   ........           BL       SPI_SendWord
   \   0000010E   0120               MOVS     R0,#+1
   \   00000110   3876               STRB     R0,[R7, #+24]
   \   00000112   6E4C               LDR      R4,??SPI_RFM12_Execute_0+0x44  ;; 0xffff
    302                if (Order==0xCED4)  
   \                     ??SPI_RFM12_Execute_10:
   \   00000114   6C48               LDR      R0,??SPI_RFM12_Execute_0+0x40  ;; 0xced4
   \   00000116   8442               CMP      R4,R0
   \   00000118   03D1               BNE      ??SPI_RFM12_Execute_11
    303                                 { SPI_SendWord(0xC493,Cs_RF); }                          //Rozkaz: 0xC493 @PWR, AFC:-80+75Khz ,!st,!fi,OE,EN       - oryginalnie 0xC483 @PWR,AFC - NO RSTRIC,!st,!fi,OE,EN 
                                          ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   0000011A   0221               MOVS     R1,#+2
   \   0000011C   6C48               LDR      R0,??SPI_RFM12_Execute_0+0x48  ;; 0xc493
   \   0000011E   ........           BL       SPI_SendWord
    304                if (Order==0xC493)  
   \                     ??SPI_RFM12_Execute_11:
   \   00000122   6B48               LDR      R0,??SPI_RFM12_Execute_0+0x48  ;; 0xc493
   \   00000124   8442               CMP      R4,R0
   \   00000126   03D1               BNE      ??SPI_RFM12_Execute_12
    305                                 { SPI_SendWord(0x9850,Cs_RF); }                          //Rozkaz: 0x9850 !mp,dewiacja +-90kHz ,MAX OUT   
                                          ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   00000128   0221               MOVS     R1,#+2
   \   0000012A   6A48               LDR      R0,??SPI_RFM12_Execute_0+0x4C  ;; 0x9850
   \   0000012C   ........           BL       SPI_SendWord
    306                if (Order==0x9850)  
   \                     ??SPI_RFM12_Execute_12:
   \   00000130   6848               LDR      R0,??SPI_RFM12_Execute_0+0x4C  ;; 0x9850
   \   00000132   8442               CMP      R4,R0
   \   00000134   03D1               BNE      ??SPI_RFM12_Execute_13
    307                                 { SPI_SendWord(0xCC17,Cs_RF); }                          //Rozkaz: 0xCC17 OB1COB0, LPX,IddyCDDITC
                                          ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   00000136   0221               MOVS     R1,#+2
   \   00000138   6748               LDR      R0,??SPI_RFM12_Execute_0+0x50  ;; 0xcc17
   \   0000013A   ........           BL       SPI_SendWord
    308                if (Order==0xCC17)  
   \                     ??SPI_RFM12_Execute_13:
   \   0000013E   6648               LDR      R0,??SPI_RFM12_Execute_0+0x50  ;; 0xcc17
   \   00000140   8442               CMP      R4,R0
   \   00000142   04D1               BNE      ??SPI_RFM12_Execute_14
    309                                 { SPI_SendWord(0xE000,Cs_RF); }                          //Rozkaz: 0xE000
                                          ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   00000144   0221               MOVS     R1,#+2
   \   00000146   E020               MOVS     R0,#+224
   \   00000148   0002               LSLS     R0,R0,#+8        ;; #+57344
   \   0000014A   ........           BL       SPI_SendWord
    310                if (Order==0xE000)  
   \                     ??SPI_RFM12_Execute_14:
   \   0000014E   E020               MOVS     R0,#+224
   \   00000150   0002               LSLS     R0,R0,#+8        ;; #+57344
   \   00000152   8442               CMP      R4,R0
   \   00000154   04D1               BNE      ??SPI_RFM12_Execute_15
    311                                 { SPI_SendWord(0xC800,Cs_RF); }                          //Rozkaz: 0xC800
                                          ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   00000156   0221               MOVS     R1,#+2
   \   00000158   C820               MOVS     R0,#+200
   \   0000015A   0002               LSLS     R0,R0,#+8        ;; #+51200
   \   0000015C   ........           BL       SPI_SendWord
    312                if (Order==0xC800)  
   \                     ??SPI_RFM12_Execute_15:
   \   00000160   C820               MOVS     R0,#+200
   \   00000162   0002               LSLS     R0,R0,#+8        ;; #+51200
   \   00000164   8442               CMP      R4,R0
   \   00000166   03D1               BNE      ??SPI_RFM12_Execute_16
    313                                 { SPI_SendWord(0xC040,Cs_RF); }                          //Rozkaz: 0xC040 1.66MHz,2.2V 
                                          ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   00000168   0221               MOVS     R1,#+2
   \   0000016A   5C48               LDR      R0,??SPI_RFM12_Execute_0+0x54  ;; 0xc040
   \   0000016C   ........           BL       SPI_SendWord
    314                if (Order==0xC040)  
   \                     ??SPI_RFM12_Execute_16:
   \   00000170   5A48               LDR      R0,??SPI_RFM12_Execute_0+0x54  ;; 0xc040
   \   00000172   8442               CMP      R4,R0
   \   00000174   03D1               BNE      ??SPI_RFM12_Execute_17
    315                                 { SPI_SendWord(0xCA81,Cs_RF); }                          //Rozkaz: 0xCA81 Start fifo RX
                                          ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   00000176   0221               MOVS     R1,#+2
   \   00000178   3000               MOVS     R0,R6
   \   0000017A   ........           BL       SPI_SendWord
    316                if ((Order==0xCA81) && (IntCA81Flag==1))  
   \                     ??SPI_RFM12_Execute_17:
   \   0000017E   B442               CMP      R4,R6
   \   00000180   07D1               BNE      ??SPI_RFM12_Execute_18
   \   00000182   5748               LDR      R0,??SPI_RFM12_Execute_0+0x58  ;; RF_Tx + 24
   \   00000184   0078               LDRB     R0,[R0, #+0]
   \   00000186   0128               CMP      R0,#+1
   \   00000188   03D1               BNE      ??SPI_RFM12_Execute_18
    317                                 { SPI_SendWord(0xCA83,Cs_RF); }                          //Rozkaz: 0xCA83 Restart fifo RX
                                          ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   0000018A   0221               MOVS     R1,#+2
   \   0000018C   B01C               ADDS     R0,R6,#+2
   \   0000018E   ........           BL       SPI_SendWord
    318                if (Order==0xCA83)  
   \                     ??SPI_RFM12_Execute_18:
   \   00000192   B01C               ADDS     R0,R6,#+2
   \   00000194   8442               CMP      R4,R0
   \   00000196   74D1               BNE      ??SPI_RFM12_Execute_19
    319                                 { 
    320                
    321          
    322          
    323                  
    324                       
    325                
    326                  RF_Status.EnRx=1;
   \   00000198   0120               MOVS     R0,#+1
   \   0000019A   6870               STRB     R0,[R5, #+1]
    327                  RF_Status.Init=0; 
   \   0000019C   0020               MOVS     R0,#+0
   \   0000019E   2870               STRB     R0,[R5, #+0]
    328                  
    329                    TRACE_INFO("Enable RX\n\r"); 
    330                    
    331                    InitRF_Interrupt();
   \   000001A0   ........           BL       InitRF_Interrupt
   \   000001A4   6DE0               B        ??SPI_RFM12_Execute_19
    332                    
    333                  
    334                  
    335                  
    336                }
    337               
    338                
    339              }//Aktywny RX ---------------------------------------------------------------
    340              else if ((RF_Status.EnRx) && (RF_Status.Init==0))
   \                     ??SPI_RFM12_Execute_1:
   \   000001A6   6878               LDRB     R0,[R5, #+1]
   \   000001A8   0028               CMP      R0,#+0
   \   000001AA   20D0               BEQ      ??SPI_RFM12_Execute_20
    341              {
    342                /*
    343                if  (((Order==0x0000) && (Buffer_Rx[1]&0x80)) 
    344                     ||((Order==0x0000) && ((Buffer_Rx[1]&0x02)==0)))  //zmiana przy v0.8d
    345                */
    346                 if  ((Order==0x0000) && (Buffer_Rx[1]&0x81))                        //zmiana przy v0.8e by³o (Buffer_Rx[1]&0x81) 
   \   000001AC   002C               CMP      R4,#+0
   \   000001AE   08D1               BNE      ??SPI_RFM12_Execute_21
   \   000001B0   7078               LDRB     R0,[R6, #+1]
   \   000001B2   8121               MOVS     R1,#+129
   \   000001B4   0842               TST      R0,R1
   \   000001B6   04D0               BEQ      ??SPI_RFM12_Execute_21
    347                     { 
    348                       SPI_SendWord(0xB000,Cs_RF);
                              ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   000001B8   0221               MOVS     R1,#+2
   \   000001BA   B020               MOVS     R0,#+176
   \   000001BC   0002               LSLS     R0,R0,#+8        ;; #+45056
   \   000001BE   ........           BL       SPI_SendWord
    349                     }
    350                
    351                if  (Order==0xCA81)   { SPI_SendWord(0xCA83,Cs_RF); }
                                               ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \                     ??SPI_RFM12_Execute_21:
   \   000001C2   3F48               LDR      R0,??SPI_RFM12_Execute_0+0x38  ;; 0xca81
   \   000001C4   8442               CMP      R4,R0
   \   000001C6   03D1               BNE      ??SPI_RFM12_Execute_22
   \   000001C8   0221               MOVS     R1,#+2
   \   000001CA   801C               ADDS     R0,R0,#+2
   \   000001CC   ........           BL       SPI_SendWord
    352                if  (Order==0xCA83)   { SPI_SendWord(0x0000,Cs_RF); }
                                               ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \                     ??SPI_RFM12_Execute_22:
   \   000001D0   4448               LDR      R0,??SPI_RFM12_Execute_0+0x5C  ;; 0xca83
   \   000001D2   8442               CMP      R4,R0
   \   000001D4   03D1               BNE      ??SPI_RFM12_Execute_23
   \   000001D6   0221               MOVS     R1,#+2
   \   000001D8   0020               MOVS     R0,#+0
   \   000001DA   ........           BL       SPI_SendWord
    353                if  (Order==0xB000)  { RF_ReciveByte(Buffer_Rx[0]); }
   \                     ??SPI_RFM12_Execute_23:
   \   000001DE   B020               MOVS     R0,#+176
   \   000001E0   0002               LSLS     R0,R0,#+8        ;; #+45056
   \   000001E2   8442               CMP      R4,R0
   \   000001E4   4DD1               BNE      ??SPI_RFM12_Execute_19
   \   000001E6   3078               LDRB     R0,[R6, #+0]
   \   000001E8   ........           BL       RF_ReciveByte
   \   000001EC   49E0               B        ??SPI_RFM12_Execute_19
    354               
    355                
    356          
    357              
    358              
    359              
    360              }//Trzb oczekiwania na prze³¹czenie na TX ---------------------------------------------------------------
    361              else if ((RF_Status.InitTx) && (Order!=0x0000))
   \                     ??SPI_RFM12_Execute_20:
   \   000001EE   E878               LDRB     R0,[R5, #+3]
   \   000001F0   0028               CMP      R0,#+0
   \   000001F2   19D0               BEQ      ??SPI_RFM12_Execute_24
   \   000001F4   002C               CMP      R4,#+0
   \   000001F6   17D0               BEQ      ??SPI_RFM12_Execute_24
    362                  {
    363                          
    364                    if (Order==0x8219)
   \   000001F8   2548               LDR      R0,??SPI_RFM12_Execute_0+0x8  ;; 0x8219
   \   000001FA   8442               CMP      R4,R0
   \   000001FC   04D1               BNE      ??SPI_RFM12_Execute_25
    365                    {
    366                      SPI_SendWord(0x80E7,Cs_RF);
                             ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   000001FE   0221               MOVS     R1,#+2
   \   00000200   3948               LDR      R0,??SPI_RFM12_Execute_0+0x60  ;; 0x80e7
   \   00000202   ........           BL       SPI_SendWord
   \   00000206   3CE0               B        ??SPI_RFM12_Execute_19
    367                    }
    368                    else if (Order==0x80E7)
   \                     ??SPI_RFM12_Execute_25:
   \   00000208   3748               LDR      R0,??SPI_RFM12_Execute_0+0x60  ;; 0x80e7
   \   0000020A   8442               CMP      R4,R0
   \   0000020C   04D1               BNE      ??SPI_RFM12_Execute_26
    369                    {                                     
    370                      SPI_SendWord(0x8239,Cs_RF);
                             ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   0000020E   0221               MOVS     R1,#+2
   \   00000210   2148               LDR      R0,??SPI_RFM12_Execute_0+0x10  ;; 0x8239
   \   00000212   ........           BL       SPI_SendWord
   \   00000216   34E0               B        ??SPI_RFM12_Execute_19
    371                    }
    372                    else if (Order==0x8239)
   \                     ??SPI_RFM12_Execute_26:
   \   00000218   1F48               LDR      R0,??SPI_RFM12_Execute_0+0x10  ;; 0x8239
   \   0000021A   8442               CMP      R4,R0
   \   0000021C   31D1               BNE      ??SPI_RFM12_Execute_19
    373                    {
    374                      SPI_SendWord(0x0000,Cs_RF);
                             ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   0000021E   0221               MOVS     R1,#+2
   \   00000220   0020               MOVS     R0,#+0
   \   00000222   ........           BL       SPI_SendWord
   \   00000226   2CE0               B        ??SPI_RFM12_Execute_19
    375                    }
    376                  }  
    377                else if ((RF_Status.InitTx) && (Order==0x0000))
   \                     ??SPI_RFM12_Execute_24:
   \   00000228   0028               CMP      R0,#+0
   \   0000022A   12D0               BEQ      ??SPI_RFM12_Execute_27
   \   0000022C   002C               CMP      R4,#+0
   \   0000022E   10D1               BNE      ??SPI_RFM12_Execute_27
    378                  {    
    379          
    380                    if (Buffer_Rx[1]&0x20)
   \   00000230   7078               LDRB     R0,[R6, #+1]
   \   00000232   8006               LSLS     R0,R0,#+26
   \   00000234   04D5               BPL      ??SPI_RFM12_Execute_28
    381                    {
    382                      SPI_SendWord(0x0000,Cs_RF);
                             ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   00000236   0221               MOVS     R1,#+2
   \   00000238   0020               MOVS     R0,#+0
   \   0000023A   ........           BL       SPI_SendWord
   \   0000023E   20E0               B        ??SPI_RFM12_Execute_19
    383                    }
    384                    //w³¹czenie nadawania danych
    385                    else
    386                    {
    387                      RF_Status.InitTx=0;
   \                     ??SPI_RFM12_Execute_28:
   \   00000240   0020               MOVS     R0,#+0
   \   00000242   E870               STRB     R0,[R5, #+3]
    388                      RF_Status.EnTx=1;
   \   00000244   0120               MOVS     R0,#+1
   \   00000246   0100               MOVS     R1,R0
   \   00000248   A970               STRB     R1,[R5, #+2]
    389                      RF_Status.Transmit=1;
   \   0000024A   2872               STRB     R0,[R5, #+8]
    390                      RF_transmit();
   \   0000024C   ........           BL       RF_transmit
   \   00000250   17E0               B        ??SPI_RFM12_Execute_19
    391                    }
    392                    
    393                   
    394          
    395              }//Aktywny TX ---------------------------------------------------------------
    396              else if (RF_Status.EnTx)
   \                     ??SPI_RFM12_Execute_27:
   \   00000252   A978               LDRB     R1,[R5, #+2]
   \   00000254   0029               CMP      R1,#+0
   \   00000256   14D1               BNE      ??SPI_RFM12_Execute_19
    397              {
    398          
    399          
    400              
    401              }
    402          
    403          
    404              //W³¹czenie odbiornika
    405              else if ((RF_Status.EnRx==0) && (RF_Status.EnTx==0) && (Order==0x8299))
   \   00000258   0E49               LDR      R1,??SPI_RFM12_Execute_0+0xC  ;; 0x8299
   \   0000025A   8C42               CMP      R4,R1
   \   0000025C   06D1               BNE      ??SPI_RFM12_Execute_29
    406              {
    407                 RF_Status.EnRx=1;
   \   0000025E   0120               MOVS     R0,#+1
   \   00000260   6870               STRB     R0,[R5, #+1]
    408                 SPI_SendWord(0x0000,Cs_RF);
                        ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   00000262   0221               MOVS     R1,#+2
   \   00000264   0020               MOVS     R0,#+0
   \   00000266   ........           BL       SPI_SendWord
   \   0000026A   0AE0               B        ??SPI_RFM12_Execute_19
    409                 
    410                 #ifdef __MaxRf
    411                      AT91C_BASE_PIOA->PIO_CODR =TxPin; 
    412                 #endif
    413              }
    414          
    415              
    416           
    417              else if ((RF_Status.InitTx==0) && (RF_Status.EnRx==0) && (RF_Status.EnTx==0) && (Order==0x8239))
   \                     ??SPI_RFM12_Execute_29:
   \   0000026C   0028               CMP      R0,#+0
   \   0000026E   08D1               BNE      ??SPI_RFM12_Execute_19
   \   00000270   0948               LDR      R0,??SPI_RFM12_Execute_0+0x10  ;; 0x8239
   \   00000272   8442               CMP      R4,R0
   \   00000274   05D1               BNE      ??SPI_RFM12_Execute_19
    418              {
    419                RF_Status.InitTx=1;
   \   00000276   0120               MOVS     R0,#+1
   \   00000278   E870               STRB     R0,[R5, #+3]
    420               
    421                SPI_SendWord(0x0000,Cs_RF);    
                       ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   0000027A   0221               MOVS     R1,#+2
   \   0000027C   0020               MOVS     R0,#+0
   \   0000027E   ........           BL       SPI_SendWord
    422              }
    423           
    424              
    425            
    426           
    427          }  
   \                     ??SPI_RFM12_Execute_19:
   \   00000282   F8BC               POP      {R3-R7}
   \   00000284   01BC               POP      {R0}
   \   00000286   0047               BX       R0               ;; return
   \                     ??SPI_RFM12_Execute_0:
   \   00000288   ........           DC32     RF_Status
   \   0000028C   67800000           DC32     0x8067
   \   00000290   19820000           DC32     0x8219
   \   00000294   99820000           DC32     0x8299
   \   00000298   39820000           DC32     0x8239
   \   0000029C   33333333           DC32     0x33333333
   \   000002A0   3333D33F           DC32     0x3fd33333
   \   000002A4   C3F5285C           DC32     0x5c28f5c3
   \   000002A8   8FE28A40           DC32     0x408ae28f
   \   000002AC   00006940           DC32     0x40690000
   \   000002B0   00FF04C1           DC32     0xc104ff00
   \   000002B4   07C60000           DC32     0xc607
   \   000002B8   A0940000           DC32     0x94a0
   \   000002BC   ACC20000           DC32     0xc2ac
   \   000002C0   81CA0000           DC32     0xca81
   \   000002C4   ........           DC32     RF_Tx
   \   000002C8   D4CE0000           DC32     0xced4
   \   000002CC   FFFF0000           DC32     0xffff
   \   000002D0   93C40000           DC32     0xc493
   \   000002D4   50980000           DC32     0x9850
   \   000002D8   17CC0000           DC32     0xcc17
   \   000002DC   40C00000           DC32     0xc040
   \   000002E0   ........           DC32     RF_Tx + 24
   \   000002E4   83CA0000           DC32     0xca83
   \   000002E8   E7800000           DC32     0x80e7
    428          
    429          
    430          
    431          
    432          
    433          
    434          
    435          //-----------------------------------------------------------------------------
    436          //!  Nazwa funkcji :    RF_ReciveByte
    437          //!  Funkcja interpretacji otrzymanego bajtu
    438          //-----------------------------------------------------------------------------

   \                                 In section Debug.txt, align 4, keep-with-next
    439          void RF_ReciveByte(char Res)
    440          {
   \                     RF_ReciveByte:
   \   00000000   31B5               PUSH     {R0,R4,R5,LR}
    441               
    442            
    443                    for (char i=0; i<RF_BuffSizeRX-1; i++) {RF_Rx.Buff[i]=RF_Rx.Buff[i+1];}
   \   00000002   0024               MOVS     R4,#+0
   \   00000004   2100               MOVS     R1,R4
   \   00000006   214D               LDR      R5,??RF_ReciveByte_0  ;; RF_Rx
   \   00000008   05E0               B        ??RF_ReciveByte_1
   \                     ??RF_ReciveByte_2:
   \   0000000A   AA18               ADDS     R2,R5,R2
   \   0000000C   5378               LDRB     R3,[R2, #+1]
   \   0000000E   1370               STRB     R3,[R2, #+0]
   \   00000010   491C               ADDS     R1,R1,#+1
   \   00000012   0906               LSLS     R1,R1,#+24
   \   00000014   090E               LSRS     R1,R1,#+24
   \                     ??RF_ReciveByte_1:
   \   00000016   0A00               MOVS     R2,R1
   \   00000018   132A               CMP      R2,#+19
   \   0000001A   F6D3               BCC      ??RF_ReciveByte_2
    444                    RF_Rx.Buff[RF_BuffSizeRX-1]=Res;
   \   0000001C   E874               STRB     R0,[R5, #+19]
    445          
    446                    if (RF_Rx.ReciveBytes<=RF_BuffSizeRX) RF_Rx.ReciveBytes++;
   \   0000001E   287D               LDRB     R0,[R5, #+20]
   \   00000020   1528               CMP      R0,#+21
   \   00000022   01D2               BCS      ??RF_ReciveByte_3
   \   00000024   401C               ADDS     R0,R0,#+1
   \   00000026   2875               STRB     R0,[R5, #+20]
    447          
    448                    //sprawdzenie koñca
    449                    if (
    450                    (RF_Rx.Buff[RF_BuffSizeRX-3]==Preambu[0]) &&
    451                      (RF_Rx.Buff[RF_BuffSizeRX-2]==Preambu[1]) &&
    452                    (RF_Rx.Buff[RF_BuffSizeRX-1]==Preambu[2]) 
    453                    /*  && 
    454                    ((RF_Rx.ReciveBytes%2)!=0)
    455                      */)  
   \                     ??RF_ReciveByte_3:
   \   00000028   687C               LDRB     R0,[R5, #+17]
   \   0000002A   AA28               CMP      R0,#+170
   \   0000002C   2AD1               BNE      ??RF_ReciveByte_4
   \   0000002E   A87C               LDRB     R0,[R5, #+18]
   \   00000030   AA28               CMP      R0,#+170
   \   00000032   27D1               BNE      ??RF_ReciveByte_4
   \   00000034   E87C               LDRB     R0,[R5, #+19]
   \   00000036   AA28               CMP      R0,#+170
   \   00000038   24D1               BNE      ??RF_ReciveByte_4
    456                    {           
    457                      if ((SlaveMode==0) && (RF_Status.ConfResive==0)) RF_Status.ConfResive=1;  //znacznik odebrania danych (dla kontroli kana³u)
   \   0000003A   1548               LDR      R0,??RF_ReciveByte_0+0x4  ;; RF_Status
   \   0000003C   1549               LDR      R1,??RF_ReciveByte_0+0x8  ;; SlaveMode
   \   0000003E   0A78               LDRB     R2,[R1, #+0]
   \   00000040   002A               CMP      R2,#+0
   \   00000042   04D1               BNE      ??RF_ReciveByte_5
   \   00000044   C27A               LDRB     R2,[R0, #+11]
   \   00000046   002A               CMP      R2,#+0
   \   00000048   01D1               BNE      ??RF_ReciveByte_5
   \   0000004A   0122               MOVS     R2,#+1
   \   0000004C   C272               STRB     R2,[R0, #+11]
    458                      if ((SlaveMode==1) && (RF_Status.ConfResiveSlave==0)) RF_Status.ConfResiveSlave=1;  //znacznik odebrania danych (dla kontroli kana³u)
   \                     ??RF_ReciveByte_5:
   \   0000004E   0978               LDRB     R1,[R1, #+0]
   \   00000050   0129               CMP      R1,#+1
   \   00000052   04D1               BNE      ??RF_ReciveByte_6
   \   00000054   017B               LDRB     R1,[R0, #+12]
   \   00000056   0029               CMP      R1,#+0
   \   00000058   01D1               BNE      ??RF_ReciveByte_6
   \   0000005A   0121               MOVS     R1,#+1
   \   0000005C   0173               STRB     R1,[R0, #+12]
    459                      
    460                      RF_Status.RfFuse=1;
   \                     ??RF_ReciveByte_6:
   \   0000005E   0121               MOVS     R1,#+1
   \   00000060   4174               STRB     R1,[R0, #+17]
    461                      RF_ReciveFarm(&RF_Rx.Buff[RF_BuffSizeRX-4], RF_Rx.ReciveBytes-3);  //funkcja interpretacji otrzymanej ramki
   \   00000062   287D               LDRB     R0,[R5, #+20]
   \   00000064   C11E               SUBS     R1,R0,#+3
   \   00000066   0906               LSLS     R1,R1,#+24
   \   00000068   090E               LSRS     R1,R1,#+24
   \   0000006A   2800               MOVS     R0,R5
   \   0000006C   1030               ADDS     R0,R0,#+16
   \   0000006E   ........           BL       RF_ReciveFarm
    462                    
    463                       RF_Rx.ReciveBytes=0; 
   \   00000072   2C75               STRB     R4,[R5, #+20]
    464                     
    465                      
    466                      //RF_ReciveFarm(&RF_Rx.Buff[RF_BuffSizeRX-RF_Rx.ReciveBytes], RF_Rx.ReciveBytes-3);  //funkcja interpretacji otrzymanej ramki
    467          
    468                      //RF_Rx.ReciveBytes=0;
    469          
    470                      if (!RF_Tx.BytesToSend) SPI_SendWord(0xCA81,Cs_RF); 
                                                     ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   00000074   0848               LDR      R0,??RF_ReciveByte_0+0xC  ;; RF_Tx + 20
   \   00000076   0078               LDRB     R0,[R0, #+0]
   \   00000078   0028               CMP      R0,#+0
   \   0000007A   03D1               BNE      ??RF_ReciveByte_4
   \   0000007C   0221               MOVS     R1,#+2
   \   0000007E   0748               LDR      R0,??RF_ReciveByte_0+0x10  ;; 0xca81
   \   00000080   ........           BL       SPI_SendWord
    471                    }
    472          }
   \                     ??RF_ReciveByte_4:
   \   00000084   38BC               POP      {R3-R5}
   \   00000086   01BC               POP      {R0}
   \   00000088   0047               BX       R0               ;; return
   \   0000008A   C046               Nop      
   \                     ??RF_ReciveByte_0:
   \   0000008C   ........           DC32     RF_Rx
   \   00000090   ........           DC32     RF_Status
   \   00000094   ........           DC32     SlaveMode
   \   00000098   ........           DC32     RF_Tx + 20
   \   0000009C   81CA0000           DC32     0xca81
    473          
    474          
    475          
    476          
    477          
    478          //-----------------------------------------------------------------------------
    479          //!  Nazwa funkcji :    RF_SendFarm
    480          //!  Funkcja przygotowuje dane do wys³ania przez RF12. Opakowuje dane w ramkê
    481          //-----------------------------------------------------------------------------
    482          //  *data - wska¿nik na pierwszy bajt
    483          //  *size - iloæ bajtów do wys³ania
    484          //-----------------------------------------------------------------------------

   \                                 In section Debug.txt, align 4, keep-with-next
    485          void RF_SendFarm(unsigned char *data, char size)
    486          { 
   \                     RF_SendFarm:
   \   00000000   F3B5               PUSH     {R0,R1,R4-R7,LR}
   \   00000002   81B0               SUB      SP,SP,#+4
    487              RF_Status.EnableTX();
   \   00000004   364C               LDR      R4,??RF_SendFarm_0  ;; RF_Status
   \   00000006   606A               LDR      R0,[R4, #+36]
   \   00000008   ........           BL       __iar_via_R0
    488              char BTS;
    489              //char DTS[20];
    490              BTS=RF_Tx.BytesToSend;
   \   0000000C   3548               LDR      R0,??RF_SendFarm_0+0x4  ;; RF_Tx
   \   0000000E   027D               LDRB     R2,[R0, #+20]
    491              
    492               //Wpisanie preambu³y otwieraj¹cej
    493               RF_Tx.Buff[BTS++]=Preambu[0];
   \   00000010   AA21               MOVS     R1,#+170
   \   00000012   1300               MOVS     R3,R2
   \   00000014   C154               STRB     R1,[R0, R3]
   \   00000016   521C               ADDS     R2,R2,#+1
   \   00000018   1206               LSLS     R2,R2,#+24
   \   0000001A   120E               LSRS     R2,R2,#+24
    494               RF_Tx.Buff[BTS++]=Preambu[1];
   \   0000001C   1300               MOVS     R3,R2
   \   0000001E   C154               STRB     R1,[R0, R3]
   \   00000020   521C               ADDS     R2,R2,#+1
   \   00000022   1206               LSLS     R2,R2,#+24
   \   00000024   120E               LSRS     R2,R2,#+24
    495               RF_Tx.Buff[BTS++]=Preambu[2];
   \   00000026   1300               MOVS     R3,R2
   \   00000028   C154               STRB     R1,[R0, R3]
   \   0000002A   521C               ADDS     R2,R2,#+1
   \   0000002C   1206               LSLS     R2,R2,#+24
   \   0000002E   120E               LSRS     R2,R2,#+24
    496               
    497               //Wpisanie s³owa synchronizuj¹cego
    498               RF_Tx.Buff[BTS++]=SynKay[0];
   \   00000030   1300               MOVS     R3,R2
   \   00000032   2D25               MOVS     R5,#+45
   \   00000034   C554               STRB     R5,[R0, R3]
   \   00000036   521C               ADDS     R2,R2,#+1
   \   00000038   1206               LSLS     R2,R2,#+24
   \   0000003A   120E               LSRS     R2,R2,#+24
    499               RF_Tx.Buff[BTS++]=SynKay[1];
   \   0000003C   1300               MOVS     R3,R2
   \   0000003E   D425               MOVS     R5,#+212
   \   00000040   C554               STRB     R5,[R0, R3]
   \   00000042   521C               ADDS     R2,R2,#+1
   \   00000044   1206               LSLS     R2,R2,#+24
   \   00000046   120E               LSRS     R2,R2,#+24
    500               
    501               //Wpisanie danych do kolejki
    502               for (char i=0; i<size; i++)
   \   00000048   0023               MOVS     R3,#+0
   \   0000004A   1D00               MOVS     R5,R3
   \   0000004C   0FE0               B        ??RF_SendFarm_1
    503               {
    504                  if (BTS<=RF_BuffSizeTX-3)
   \                     ??RF_SendFarm_2:
   \   0000004E   1600               MOVS     R6,R2
   \   00000050   122E               CMP      R6,#+18
   \   00000052   09D2               BCS      ??RF_SendFarm_3
    505                  {
    506                    RF_Tx.Buff[BTS]=data[i]; 
   \   00000054   1700               MOVS     R7,R2
   \   00000056   BC46               MOV      R12,R7
   \   00000058   2F00               MOVS     R7,R5
   \   0000005A   019E               LDR      R6,[SP, #+4]
   \   0000005C   F65D               LDRB     R6,[R6, R7]
   \   0000005E   6746               MOV      R7,R12
   \   00000060   C655               STRB     R6,[R0, R7]
    507                    BTS++;
   \   00000062   521C               ADDS     R2,R2,#+1
   \   00000064   1206               LSLS     R2,R2,#+24
   \   00000066   120E               LSRS     R2,R2,#+24
    508                  }
    509               }
   \                     ??RF_SendFarm_3:
   \   00000068   6D1C               ADDS     R5,R5,#+1
   \   0000006A   2D06               LSLS     R5,R5,#+24
   \   0000006C   2D0E               LSRS     R5,R5,#+24
   \                     ??RF_SendFarm_1:
   \   0000006E   2E00               MOVS     R6,R5
   \   00000070   6F46               MOV      R7,SP
   \   00000072   3F7A               LDRB     R7,[R7, #+8]
   \   00000074   BE42               CMP      R6,R7
   \   00000076   EAD3               BCC      ??RF_SendFarm_2
    510               
    511               //Wpisanie preambu³y zamykaj¹cej
    512               RF_Tx.Buff[BTS++]=Preambu[0];
   \   00000078   1500               MOVS     R5,R2
   \   0000007A   4155               STRB     R1,[R0, R5]
   \   0000007C   521C               ADDS     R2,R2,#+1
   \   0000007E   1206               LSLS     R2,R2,#+24
   \   00000080   120E               LSRS     R2,R2,#+24
    513               RF_Tx.Buff[BTS++]=Preambu[1];
   \   00000082   1500               MOVS     R5,R2
   \   00000084   4155               STRB     R1,[R0, R5]
   \   00000086   521C               ADDS     R2,R2,#+1
   \   00000088   1206               LSLS     R2,R2,#+24
   \   0000008A   120E               LSRS     R2,R2,#+24
    514               RF_Tx.Buff[BTS++]=Preambu[2];
   \   0000008C   1500               MOVS     R5,R2
   \   0000008E   4155               STRB     R1,[R0, R5]
   \   00000090   521C               ADDS     R2,R2,#+1
   \   00000092   1206               LSLS     R2,R2,#+24
   \   00000094   120E               LSRS     R2,R2,#+24
    515               RF_Tx.Buff[BTS++]=0x00;
   \   00000096   1100               MOVS     R1,R2
   \   00000098   1D00               MOVS     R5,R3
   \   0000009A   4554               STRB     R5,[R0, R1]
   \   0000009C   521C               ADDS     R2,R2,#+1
   \   0000009E   1206               LSLS     R2,R2,#+24
   \   000000A0   120E               LSRS     R2,R2,#+24
    516               RF_Tx.Buff[BTS]=0x00;
   \   000000A2   1100               MOVS     R1,R2
   \   000000A4   4354               STRB     R3,[R0, R1]
    517               
    518               
    519               //for (char i=0; i<BTS; i++) RF_Tx.Buff[i]=DTS[i];
    520               RF_Tx.BytesToSend=BTS;
   \   000000A6   0275               STRB     R2,[R0, #+20]
    521               if ((RF_Status.Transmit==0) && (RF_Status.EnTx) && (RF_Status.InitTx==0))  RF_transmit();
   \   000000A8   207A               LDRB     R0,[R4, #+8]
   \   000000AA   0028               CMP      R0,#+0
   \   000000AC   07D1               BNE      ??RF_SendFarm_4
   \   000000AE   A078               LDRB     R0,[R4, #+2]
   \   000000B0   0028               CMP      R0,#+0
   \   000000B2   04D0               BEQ      ??RF_SendFarm_4
   \   000000B4   E078               LDRB     R0,[R4, #+3]
   \   000000B6   0028               CMP      R0,#+0
   \   000000B8   01D1               BNE      ??RF_SendFarm_4
   \   000000BA   ........           BL       RF_transmit
    522          
    523               if ((SlaveMode) && (RF_Status.TimeInSlaveMode>MAX_TIME_FOR_SLAVE_ASK))
   \                     ??RF_SendFarm_4:
   \   000000BE   0A48               LDR      R0,??RF_SendFarm_0+0x8  ;; SlaveMode
   \   000000C0   0078               LDRB     R0,[R0, #+0]
   \   000000C2   0028               CMP      R0,#+0
   \   000000C4   06D0               BEQ      ??RF_SendFarm_5
   \   000000C6   E08A               LDRH     R0,[R4, #+22]
   \   000000C8   FF21               MOVS     R1,#+255
   \   000000CA   6031               ADDS     R1,R1,#+96       ;; #+351
   \   000000CC   8842               CMP      R0,R1
   \   000000CE   01D3               BCC      ??RF_SendFarm_5
    524                                {
    525                                 RF_Status.SlaveModeTimeout=4;
   \   000000D0   0420               MOVS     R0,#+4
   \   000000D2   E074               STRB     R0,[R4, #+19]
    526                                }
    527               
    528               RF_Status.EnableRX();
   \                     ??RF_SendFarm_5:
   \   000000D4   A06A               LDR      R0,[R4, #+40]
   \   000000D6   ........           BL       __iar_via_R0
    529          } 
   \   000000DA   FEBC               POP      {R1-R7}
   \   000000DC   01BC               POP      {R0}
   \   000000DE   0047               BX       R0               ;; return
   \                     ??RF_SendFarm_0:
   \   000000E0   ........           DC32     RF_Status
   \   000000E4   ........           DC32     RF_Tx
   \   000000E8   ........           DC32     SlaveMode
    530          //-----------------------------------------------------------------------------
    531          
    532          
    533          
    534          
    535          
    536          
    537          //-----------------------------------------------------------------------------
    538          //!  Nazwa funkcji :    RF_transmit
    539          //!  Funkcja wysy³a dane przez RF12
    540          //-----------------------------------------------------------------------------

   \                                 In section Debug.txt, align 4, keep-with-next
    541          void RF_transmit(void)
    542          {
   \                     RF_transmit:
   \   00000000   10B5               PUSH     {R4,LR}
    543             if ((RF_Tx.BytesToSend==0) || (AT91C_BASE_PIOA->PIO_PDSR & RfIntBUS)) return;
   \   00000002   1248               LDR      R0,??RF_transmit_0  ;; RF_Tx
   \   00000004   017D               LDRB     R1,[R0, #+20]
   \   00000006   0029               CMP      R1,#+0
   \   00000008   1CD0               BEQ      ??RF_transmit_1
   \   0000000A   114A               LDR      R2,??RF_transmit_0+0x4  ;; 0xfffff43c
   \   0000000C   1268               LDR      R2,[R2, #+0]
   \   0000000E   5205               LSLS     R2,R2,#+21
   \   00000010   18D4               BMI      ??RF_transmit_1
    544             
    545             if (RF_Status.Transmit) 
   \   00000012   104A               LDR      R2,??RF_transmit_0+0x8  ;; RF_Status + 8
   \   00000014   1278               LDRB     R2,[R2, #+0]
   \   00000016   002A               CMP      R2,#+0
   \   00000018   14D0               BEQ      ??RF_transmit_1
    546             {
    547                char BTS=RF_Tx.Buff[0];
   \   0000001A   0278               LDRB     R2,[R0, #+0]
    548                RF_Tx.BytesToSend--;
   \   0000001C   491E               SUBS     R1,R1,#+1
   \   0000001E   0175               STRB     R1,[R0, #+20]
    549                for (char i=0; i<RF_Tx.BytesToSend; i++)  RF_Tx.Buff[i]=RF_Tx.Buff[i+1]; //przesuñ kolejke
   \   00000020   0021               MOVS     R1,#+0
   \   00000022   05E0               B        ??RF_transmit_2
   \                     ??RF_transmit_3:
   \   00000024   C318               ADDS     R3,R0,R3
   \   00000026   5C78               LDRB     R4,[R3, #+1]
   \   00000028   1C70               STRB     R4,[R3, #+0]
   \   0000002A   491C               ADDS     R1,R1,#+1
   \   0000002C   0906               LSLS     R1,R1,#+24
   \   0000002E   090E               LSRS     R1,R1,#+24
   \                     ??RF_transmit_2:
   \   00000030   0B00               MOVS     R3,R1
   \   00000032   047D               LDRB     R4,[R0, #+20]
   \   00000034   A342               CMP      R3,R4
   \   00000036   F5D3               BCC      ??RF_transmit_3
    550                SPI_SendWord((0xB800 | BTS),Cs_RF); //wylij bajt
                       ^
Warning[Pe223]: function "SPI_SendWord" declared implicitly
   \   00000038   0221               MOVS     R1,#+2
   \   0000003A   B820               MOVS     R0,#+184
   \   0000003C   0002               LSLS     R0,R0,#+8        ;; #+47104
   \   0000003E   1043               ORRS     R0,R0,R2
   \   00000040   ........           BL       SPI_SendWord
   \                     ??RF_transmit_1:
   \   00000044   10BC               POP      {R4}
   \   00000046   01BC               POP      {R0}
   \   00000048   0047               BX       R0               ;; return
   \   0000004A   C046               Nop      
   \                     ??RF_transmit_0:
   \   0000004C   ........           DC32     RF_Tx
   \   00000050   3CF4FFFF           DC32     0xfffff43c
   \   00000054   ........           DC32     RF_Status + 8
    551             }
    552          }
    553          
    554          
    555          
    556          //-----------------------------------------------------------------------------
    557          //!  Nazwa funkcji :    RF_CheckChannel
    558          //!  Funkcja sprawdza czy kana³ jest wolny
    559          //-----------------------------------------------------------------------------
    560          extern int MenuLevel;
    561          

   \                                 In section Debug.txt, align 4, keep-with-next
    562          char RF_CheckChannel(void)
    563          {
   \                     RF_CheckChannel:
   \   00000000   70B5               PUSH     {R4-R6,LR}
    564               int MenuLevel_Member=MenuLevel;
   \   00000002   0A4C               LDR      R4,??RF_CheckChannel_0  ;; MenuLevel
   \   00000004   2568               LDR      R5,[R4, #+0]
    565               MenuLevel=3;
   \   00000006   0320               MOVS     R0,#+3
   \   00000008   2060               STR      R0,[R4, #+0]
    566               MenuPaint();
   \   0000000A   ........           BL       MenuPaint
    567               
    568               RF_Status.ConfResive=0; 
   \   0000000E   084E               LDR      R6,??RF_CheckChannel_0+0x4  ;; RF_Status
   \   00000010   0020               MOVS     R0,#+0
   \   00000012   F072               STRB     R0,[R6, #+11]
    569               
    570          
    571               
    572               Delay(0x100000);
                      ^
Warning[Pe223]: function "Delay" declared implicitly
   \   00000014   8020               MOVS     R0,#+128
   \   00000016   4003               LSLS     R0,R0,#+13       ;; #+1048576
   \   00000018   ........           BL       Delay
    573          
    574               
    575               
    576               MenuLevel=MenuLevel_Member;  
   \   0000001C   2560               STR      R5,[R4, #+0]
    577               MenuPaint();
   \   0000001E   ........           BL       MenuPaint
    578               return RF_Status.ConfResive;
   \   00000022   F07A               LDRB     R0,[R6, #+11]
   \   00000024   70BC               POP      {R4-R6}
   \   00000026   02BC               POP      {R1}
   \   00000028   0847               BX       R1               ;; return
   \   0000002A   C046               Nop      
   \                     ??RF_CheckChannel_0:
   \   0000002C   ........           DC32     MenuLevel
   \   00000030   ........           DC32     RF_Status
    579          
    580          }

   \                                 In section Debug.txt, align 4, keep-with-next
   \                     ??DataTable2:
   \   00000000   19820000           DC32     0x8219

   \                                 In section Debug.txt, align 4, keep-with-next
   \                     ??DataTable6:
   \   00000000   99820000           DC32     0x8299

   \                                 In section Debug.txt, align 4, keep-with-next
   \                     ??DataTable10:
   \   00000000   ........           DC32     RF_Tx + 20

   \                                 In section Debug.txt, align 4, keep-with-next
   \                     ??DataTable11:
   \   00000000   00F4FFFF           DC32     0xfffff400

   \                                 In section Debug.txt, align 4, keep-with-next
   \                     ??DataTable12:
   \   00000000   ........           DC32     RF_Status

   \                                 In section Debug.txt, align 4, keep-with-next
   \                     ??DataTable13:
   \   00000000   ........           DC32     RF_Tx

   \                                 In section Debug.txt, align 4, keep-with-next
   \                     ??DataTable14:
   \   00000000   67800000           DC32     0x8067

   Maximum stack usage in bytes:

     Function                    .cstack
     --------                    -------
     AT91F_AIC_EnableIt               0
     AT91F_PIO_CfgInput               0
     AT91F_PIO_InterruptEnable        0
     AT91F_PMC_EnablePeriphClock      0
     ConfigureRFBus                   8
     InitRF_Interrupt                16
     RF_CheckChannel                 16
     RF_Init                          8
     RF_Int                           8
     RF_ReciveByte                   16
     RF_SendFarm                     32
     RF_transmit                      8
     SPI_RFM12_Execute               24
     _RF_EnableRX                     8
     _RF_EnableTX                    16
     _pRF_Status                      0


   Section sizes:

     Function/Label              Bytes
     --------------              -----
     AT91F_AIC_EnableIt            12
     AT91F_PIO_CfgInput             6
     AT91F_PIO_InterruptEnable      4
     AT91F_PMC_EnablePeriphClock    4
     RF_Rx                         24
     Preambu                        4
     SynKay                         4
     _RF_EnableTX                  42
     _RF_EnableRX                  64
     _pRF_Status                   20
     InitRF_Interrupt              44
     RF_Int                        80
     ConfigureRFBus                32
     RF_Tx                         25
     SPI_RFM12_Read                 1
     RF_Status                     44
     tmp_int                        1
     RF_Init                       60
     CountVal                       1
     SPI_RFM12_Execute            748
     RF_ReciveByte                160
     RF_SendFarm                  236
     RF_transmit                   88
     RF_CheckChannel               52
     ??DataTable2                   4
     ??DataTable6                   4
     ??DataTable10                  4
     ??DataTable11                  4
     ??DataTable12                  4
     ??DataTable13                  4
     ??DataTable14                  4
      Others                        2

 
    95 bytes in section .bss
     1 byte  in section .data
     8 bytes in section .rodata
 1 682 bytes in section Debug.txt
 
 1 654 bytes of CODE  memory (+ 28 bytes shared)
     8 bytes of CONST memory
    96 bytes of DATA  memory

Errors: none
Warnings: 32
