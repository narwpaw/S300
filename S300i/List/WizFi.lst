###############################################################################
#                                                                             #
# IAR ARM ANSI C/C++ Compiler V5.10.5.372/W32           04/Sep/2013  19:34:29 #
# Copyright 1999-2007 IAR Systems. All rights reserved.                       #
#                                                                             #
#    Cpu mode     =  thumb                                                    #
#    Endian       =  little                                                   #
#    Source file  =  D:\Zeuron\Projekty\S300\S300-program v1.4 -              #
#                    12.06.2013\Framework\WizFi.c                             #
#    Command line =  "D:\Zeuron\Projekty\S300\S300-program v1.4 -             #
#                    12.06.2013\Framework\WizFi.c" -D AT91SAM7S256 -D         #
#                    AT91SAM7SEK -D iH -D __ALARM -D __WIFI_MODULE -D S300i   #
#                    -lC "D:\Zeuron\Projekty\S300\S300-program v1.4 -         #
#                    12.06.2013\S300i\List\" --diag_suppress Pa082 -o         #
#                    "D:\Zeuron\Projekty\S300\S300-program v1.4 -             #
#                    12.06.2013\S300i\Obj\" --debug --endian little --cpu     #
#                    ARM7TDMI -e --fpu None --dlib_config "C:\Program Files   #
#                    (x86)\IAR Systems\Embedded Workbench                     #
#                    5.0\ARM\INC\DLib_Config_Normal.h" -I                     #
#                    "D:\Zeuron\Projekty\S300\S300-program v1.4 -             #
#                    12.06.2013\lib\AT91SAM7S256\" -I                         #
#                    "D:\Zeuron\Projekty\S300\S300-program v1.4 -             #
#                    12.06.2013\lib\AT91SAM7S64\" -I                          #
#                    "D:\Zeuron\Projekty\S300\S300-program v1.4 -             #
#                    12.06.2013\" -I "D:\Zeuron\Projekty\S300\S300-program    #
#                    v1.4 - 12.06.2013\cdc\" -I "D:\Zeuron\Projekty\S300\S300 #
#                    -program v1.4 - 12.06.2013\core\" -I                     #
#                    "D:\Zeuron\Projekty\S300\S300-program v1.4 -             #
#                    12.06.2013\startup\" -I "D:\Zeuron\Projekty\S300\S300-pr #
#                    ogram v1.4 - 12.06.2013\Framework\" -I                   #
#                    "D:\Zeuron\Projekty\S300\S300-program v1.4 -             #
#                    12.06.2013\Framework\Configuration\" -I "C:\Program      #
#                    Files (x86)\IAR Systems\Embedded Workbench               #
#                    5.0\ARM\INC\" --section .text=Debug.txt --interwork      #
#                    --cpu_mode thumb -Oh                                     #
#    List file    =  D:\Zeuron\Projekty\S300\S300-program v1.4 -              #
#                    12.06.2013\S300i\List\WizFi.lst                          #
#    Object file  =  D:\Zeuron\Projekty\S300\S300-program v1.4 -              #
#                    12.06.2013\S300i\Obj\WizFi.o                             #
#                                                                             #
#                                                                             #
###############################################################################

D:\Zeuron\Projekty\S300\S300-program v1.4 - 12.06.2013\Framework\WizFi.c
      1          //****************************************************************************//
      2          //*--------------------------------------------------------------------------*//
      3          //*                 CEURON                                                   *//
      4          //*--------------------------------------------------------------------------*//
      5          //*--------------------------------------------------------------------------*//
      6          //*  Nazwa pliku                  : WizFi.c                                 *//
      7          //*  Opis                         : Obs³uga modu³u WizFi                      *//
      8          //*  Autor                        : Pawe³ Narwojsz                           *//
      9          //*  Data utrzorzenia             : 31.01.2012                               *//
     10          //*  Data ostatniej modyfikacji   : --.--.----                               *//
     11          //*--------------------------------------------------------------------------*//
     12          //*                                                                          *//
     13          //*--------------------------------------------------------------------------*//
     14          //* Rejestr zmian  (data - opis):                                            *//
     15          //*                                                                          *//
     16          //*                               Brak zmian                                 *//
     17          //*                                                                          *//
     18          //*__________________________________________________________________________*//
     19          //****************************************************************************//
     20          
     21          #include "WizFi.h"

                                          
                                          ^
"D:\Zeuron\Projekty\S300\S300-program v1.4 - 12.06.2013\Framework\Configuration\InterruptPriority.h",59  Warning[Pe001]: 
          last line of file ends without a newline

   
   ^
"D:\Zeuron\Projekty\S300\S300-program v1.4 - 12.06.2013\Framework\WizFi.h",172  Warning[Pe001]: 
          last line of file ends without a newline
     22          #include "Framework.h"
     23          #include "core/device.h"                                                        //aduje bibliotreki dla odpowiedniego procesora
     24          #include "main_H.h" 
     25          #include "string.h"
     26          #include "WizFiCommand.h"
     27          #include "serial_driver.h"
     28          
     29          
     30          
     31          
     32          /*
     33            extern char Variables[]; 
     34            extern BYTE Buff_TX_1[];
     35            extern short int VariablesAnal[];
     36            extern unsigned long long  g_counter;
     37            long long WiFi_TimeOut_Counter;
     38            
     39            
     40            
     41                  
     42           _WiFi WiFi;
     43           _WiFiStatus  WiFiStat;
     44           _HTTP  HTTP;
     45           //_SSID   g_SSID_List[20];
     46          */ 
     47          
     48          
     49          extern unsigned long long  g_counter;                                              //globalny licznik milisekundowy od w³¹czenia/restartu sterownika
     50          extern char Variables[];    //zmienne
     51          extern short int VariablesAnal[];    //zmienne
     52          extern _ProgramTab gProg;
     53          extern _MainStage  MainStage; 

   \                                 In section .bss, align 1
     54          char WiFiDebug=0;
   \                     WiFiDebug:
   \   00000000                      DS8 1
     55            //
     56          //funkcja CheckVarChangeHTTP --------------------------------
     57          //funkcja sprawdza czy zmieni³y siê zmienne sprawdzane przez strone web. Je¿eli tak to wyœlij zmiany

   \                                 In section Debug.txt, align 4, keep-with-next
     58          void CheckVarChangeHTTP(char *SendBuff,  AT91PS_USART USART, _Net *Net)
     59          {
   \                     CheckVarChangeHTTP:
   \   00000000   F7B5               PUSH     {R0-R2,R4-R7,LR}
   \   00000002   1400               MOVS     R4,R2
   \   00000004   6078               LDRB     R0,[R4, #+1]
   \   00000006   0328               CMP      R0,#+3
   \   00000008   00D0               BEQ      .+4
   \   0000000A   A4E0               B        ??CheckVarChangeHTTP_0
     60          
     61            static long long AnalogPeriod;
     62            
     63            if (Net->Status.HostLink==CONNECTED)
     64            {
     65               char Zmiana=0;
   \   0000000C   0025               MOVS     R5,#+0
     66               for (char IDX=0; IDX<Net->HTTP.VarSetCount; IDX++)
   \   0000000E   0026               MOVS     R6,#+0
   \   00000010   5248               LDR      R0,??CheckVarChangeHTTP_1  ;; MainStage
   \   00000012   0100               MOVS     R1,R0
   \   00000014   A031               ADDS     R1,R1,#+160
   \   00000016   0091               STR      R1,[SP, #+0]
   \   00000018   5149               LDR      R1,??CheckVarChangeHTTP_1+0x4  ;; 0x3a2
   \   0000001A   4018               ADDS     R0,R0,R1
   \   0000001C   0190               STR      R0,[SP, #+4]
   \   0000001E   1CE0               B        ??CheckVarChangeHTTP_2
     67               {  
     68                 switch (Net->HTTP.NetNodeSet[IDX].NetDataType)
     69                 {                  
     70                    case 'b': 
     71                         if (((Variables[Net->HTTP.NetNodeSet[IDX].VarNr/8]>>(Net->HTTP.NetNodeSet[IDX].VarNr%8))&0x1) != (Net->HTTP.NetNodeSet[IDX].Value)) {Zmiana++;}
     72                    break;
     73                    case 'a': 
     74                      if (AnalogPeriod<g_counter) {Zmiana++; AnalogPeriod=g_counter+30000;}
     75                    break;  
     76                    case 'c': 
     77                      if (AnalogPeriod<g_counter) {Zmiana++; AnalogPeriod=g_counter+30000;}
     78                    break; 
     79                    
     80                    case 'd': 
     81                      if (GetSpecialBinarVar(Net->HTTP.NetNodeSet[IDX].NodeNr)!=Net->HTTP.NetNodeSet[IDX].Value) Zmiana++;
                                 ^
Warning[Pe223]: function "GetSpecialBinarVar" declared implicitly
     82                    break; 
     83                    
     84                    case 'i': 
     85                       if ( (PortStageRead(MainStage.StageI[Net->HTTP.NetNodeSet[IDX].NodeNr].Port, Net->HTTP.NetNodeSet[IDX].PortNr)) != (Net->HTTP.NetNodeSet[IDX].Value)) {Zmiana++;}
     86                    break; 
     87                    
     88                    case 'q': 
     89                       if ( (PortStageRead(MainStage.StageQ[Net->HTTP.NetNodeSet[IDX].NodeNr].Port, Net->HTTP.NetNodeSet[IDX].PortNr)) != (Net->HTTP.NetNodeSet[IDX].Value)) {Zmiana++;}
   \                     ??CheckVarChangeHTTP_3:
   \   00000020   E019               ADDS     R0,R4,R7
   \   00000022   F821               MOVS     R1,#+248
   \   00000024   415C               LDRB     R1,[R0, R1]
   \   00000026   F730               ADDS     R0,R0,#+247
   \   00000028   0078               LDRB     R0,[R0, #+0]
   \   0000002A   1622               MOVS     R2,#+22
   \   0000002C   5043               MULS     R0,R2,R0
   \   0000002E   019A               LDR      R2,[SP, #+4]
   \   00000030   105A               LDRH     R0,[R2, R0]
   \   00000032   0004               LSLS     R0,R0,#+16
   \   00000034   0014               ASRS     R0,R0,#+16
   \   00000036   ........           BL       PortStageRead
   \   0000003A   2100               MOVS     R1,R4
   \   0000003C   F931               ADDS     R1,R1,#+249
   \   0000003E   C919               ADDS     R1,R1,R7
   \   00000040   0B78               LDRB     R3,[R1, #+0]
   \   00000042   4A78               LDRB     R2,[R1, #+1]
   \   00000044   1206               LSLS     R2,R2,#+24
   \   00000046   1214               ASRS     R2,R2,#+16
   \   00000048   1343               ORRS     R3,R3,R2
   \   0000004A   9842               CMP      R0,R3
   \                     ??CheckVarChangeHTTP_4:
   \   0000004C   02D0               BEQ      ??CheckVarChangeHTTP_5
   \   0000004E   6D1C               ADDS     R5,R5,#+1
   \   00000050   2D06               LSLS     R5,R5,#+24
   \   00000052   2D0E               LSRS     R5,R5,#+24
   \                     ??CheckVarChangeHTTP_5:
   \   00000054   761C               ADDS     R6,R6,#+1
   \   00000056   3606               LSLS     R6,R6,#+24
   \   00000058   360E               LSRS     R6,R6,#+24
   \                     ??CheckVarChangeHTTP_2:
   \   0000005A   F221               MOVS     R1,#+242
   \   0000005C   615C               LDRB     R1,[R4, R1]
   \   0000005E   8E42               CMP      R6,R1
   \   00000060   64D2               BCS      ??CheckVarChangeHTTP_6
   \   00000062   0527               MOVS     R7,#+5
   \   00000064   7743               MULS     R7,R6,R7
   \   00000066   2000               MOVS     R0,R4
   \   00000068   F230               ADDS     R0,R0,#+242
   \   0000006A   001D               ADDS     R0,R0,#+4
   \   0000006C   C05D               LDRB     R0,[R0, R7]
   \   0000006E   6128               CMP      R0,#+97
   \   00000070   23D0               BEQ      ??CheckVarChangeHTTP_7
   \   00000072   6228               CMP      R0,#+98
   \   00000074   08D0               BEQ      ??CheckVarChangeHTTP_8
   \   00000076   6328               CMP      R0,#+99
   \   00000078   1FD0               BEQ      ??CheckVarChangeHTTP_7
   \   0000007A   6428               CMP      R0,#+100
   \   0000007C   30D0               BEQ      ??CheckVarChangeHTTP_9
   \   0000007E   6928               CMP      R0,#+105
   \   00000080   3DD0               BEQ      ??CheckVarChangeHTTP_10
   \   00000082   7128               CMP      R0,#+113
   \   00000084   CCD0               BEQ      ??CheckVarChangeHTTP_3
   \   00000086   E5E7               B        ??CheckVarChangeHTTP_5
   \                     ??CheckVarChangeHTTP_8:
   \   00000088   2000               MOVS     R0,R4
   \   0000008A   F930               ADDS     R0,R0,#+249
   \   0000008C   C019               ADDS     R0,R0,R7
   \   0000008E   0178               LDRB     R1,[R0, #+0]
   \   00000090   4278               LDRB     R2,[R0, #+1]
   \   00000092   1206               LSLS     R2,R2,#+24
   \   00000094   1214               ASRS     R2,R2,#+16
   \   00000096   1143               ORRS     R1,R1,R2
   \   00000098   E019               ADDS     R0,R4,R7
   \   0000009A   F730               ADDS     R0,R0,#+247
   \   0000009C   0278               LDRB     R2,[R0, #+0]
   \   0000009E   D210               ASRS     R2,R2,#+3
   \   000000A0   304B               LDR      R3,??CheckVarChangeHTTP_1+0x8  ;; Variables
   \   000000A2   9A5C               LDRB     R2,[R3, R2]
   \   000000A4   0378               LDRB     R3,[R0, #+0]
   \   000000A6   D808               LSRS     R0,R3,#+3
   \   000000A8   C000               LSLS     R0,R0,#+3
   \   000000AA   181A               SUBS     R0,R3,R0
   \   000000AC   0241               ASRS     R2,R2,R0
   \   000000AE   0120               MOVS     R0,#+1
   \   000000B0   1040               ANDS     R0,R0,R2
   \   000000B2   0904               LSLS     R1,R1,#+16
   \   000000B4   0914               ASRS     R1,R1,#+16
   \   000000B6   8842               CMP      R0,R1
   \   000000B8   C8E7               B.N      ??CheckVarChangeHTTP_4
   \                     ??CheckVarChangeHTTP_7:
   \   000000BA   ....               LDR      R0,??DataTable5  ;; g_counter
   \   000000BC   0CC8               LDM      R0!,{R2,R3}
   \   000000BE   2A48               LDR      R0,??CheckVarChangeHTTP_1+0xC  ;; ??AnalogPeriod
   \   000000C0   03C8               LDM      R0!,{R0,R1}
   \   000000C2   9942               CMP      R1,R3
   \   000000C4   C6D8               BHI      ??CheckVarChangeHTTP_5
   \   000000C6   01D3               BCC      ??CheckVarChangeHTTP_11
   \   000000C8   9042               CMP      R0,R2
   \   000000CA   C3D2               BCS      ??CheckVarChangeHTTP_5
   \                     ??CheckVarChangeHTTP_11:
   \   000000CC   6D1C               ADDS     R5,R5,#+1
   \   000000CE   2D06               LSLS     R5,R5,#+24
   \   000000D0   2D0E               LSRS     R5,R5,#+24
   \   000000D2   254F               LDR      R7,??CheckVarChangeHTTP_1+0xC  ;; ??AnalogPeriod
   \   000000D4   2548               LDR      R0,??CheckVarChangeHTTP_1+0x10  ;; 0x7530
   \   000000D6   0021               MOVS     R1,#+0
   \   000000D8   8018               ADDS     R0,R0,R2
   \   000000DA   5941               ADCS     R1,R1,R3
   \   000000DC   03C7               STM      R7!,{R0,R1}
   \   000000DE   B9E7               B        ??CheckVarChangeHTTP_5
   \                     ??CheckVarChangeHTTP_9:
   \   000000E0   E019               ADDS     R0,R4,R7
   \   000000E2   F730               ADDS     R0,R0,#+247
   \   000000E4   0078               LDRB     R0,[R0, #+0]
   \   000000E6   ........           BL       GetSpecialBinarVar
   \   000000EA   2100               MOVS     R1,R4
   \   000000EC   F931               ADDS     R1,R1,#+249
   \   000000EE   C919               ADDS     R1,R1,R7
   \   000000F0   0B78               LDRB     R3,[R1, #+0]
   \   000000F2   4A78               LDRB     R2,[R1, #+1]
   \   000000F4   1206               LSLS     R2,R2,#+24
   \   000000F6   1214               ASRS     R2,R2,#+16
   \   000000F8   1343               ORRS     R3,R3,R2
   \   000000FA   9842               CMP      R0,R3
   \   000000FC   A6E7               B.N      ??CheckVarChangeHTTP_4
   \                     ??CheckVarChangeHTTP_10:
   \   000000FE   E019               ADDS     R0,R4,R7
   \   00000100   F821               MOVS     R1,#+248
   \   00000102   415C               LDRB     R1,[R0, R1]
   \   00000104   F730               ADDS     R0,R0,#+247
   \   00000106   0078               LDRB     R0,[R0, #+0]
   \   00000108   1622               MOVS     R2,#+22
   \   0000010A   5043               MULS     R0,R2,R0
   \   0000010C   009A               LDR      R2,[SP, #+0]
   \   0000010E   105A               LDRH     R0,[R2, R0]
   \   00000110   0004               LSLS     R0,R0,#+16
   \   00000112   0014               ASRS     R0,R0,#+16
   \   00000114   ........           BL       PortStageRead
   \   00000118   2100               MOVS     R1,R4
   \   0000011A   F931               ADDS     R1,R1,#+249
   \   0000011C   C919               ADDS     R1,R1,R7
   \   0000011E   0B78               LDRB     R3,[R1, #+0]
   \   00000120   4A78               LDRB     R2,[R1, #+1]
   \   00000122   1206               LSLS     R2,R2,#+24
   \   00000124   1214               ASRS     R2,R2,#+16
   \   00000126   1343               ORRS     R3,R3,R2
   \   00000128   9842               CMP      R0,R3
   \   0000012A   8FE7               B.N      ??CheckVarChangeHTTP_4
     90                    break; 
     91                    
     92                    
     93                 }   
     94               }
     95             
     96               if (Zmiana>0) 
   \                     ??CheckVarChangeHTTP_6:
   \   0000012C   002D               CMP      R5,#+0
   \   0000012E   12D0               BEQ      ??CheckVarChangeHTTP_0
     97               {
     98                 if (Net->Status.HttpNextQueryTime>g_counter+100) Net->Status.HttpNextQueryTime=g_counter+100;  //przyœpieszenie wys³ania danych
   \   00000130   ....               LDR      R0,??DataTable5  ;; g_counter
   \   00000132   0CC8               LDM      R0!,{R2,R3}
   \   00000134   0020               MOVS     R0,#+0
   \   00000136   6432               ADDS     R2,R2,#+100
   \   00000138   4341               ADCS     R3,R3,R0
   \   0000013A   2000               MOVS     R0,R4
   \   0000013C   3030               ADDS     R0,R0,#+48
   \   0000013E   03C8               LDM      R0!,{R0,R1}
   \   00000140   8B42               CMP      R3,R1
   \   00000142   05D8               BHI      ??CheckVarChangeHTTP_12
   \   00000144   01D3               BCC      ??CheckVarChangeHTTP_13
   \   00000146   8242               CMP      R2,R0
   \   00000148   02D2               BCS      ??CheckVarChangeHTTP_12
   \                     ??CheckVarChangeHTTP_13:
   \   0000014A   2000               MOVS     R0,R4
   \   0000014C   3030               ADDS     R0,R0,#+48
   \   0000014E   0CC0               STM      R0!,{R2,R3}
     99                 Net->Status.NextHttpOrder=HTTP_POST;
   \                     ??CheckVarChangeHTTP_12:
   \   00000150   641C               ADDS     R4,R4,#+1
   \   00000152   1220               MOVS     R0,#+18
   \   00000154   A070               STRB     R0,[R4, #+2]
    100               }
    101            }
    102          
    103          }
   \                     ??CheckVarChangeHTTP_0:
   \   00000156   FEBC               POP      {R1-R7}
   \   00000158   01BC               POP      {R0}
   \   0000015A   0047               BX       R0               ;; return
   \                     ??CheckVarChangeHTTP_1:
   \   0000015C   ........           DC32     MainStage
   \   00000160   A2030000           DC32     0x3a2
   \   00000164   ........           DC32     Variables
   \   00000168   ........           DC32     ??AnalogPeriod
   \   0000016C   30750000           DC32     0x7530

   \                                 In section .bss, align 8
   \                     ??AnalogPeriod:
   \   00000000                      DS8 8
    104          
    105          
    106          
    107              
    108              

   \                                 In section .bss, align 4
    109          char *pt1;    
   \                     pt1:
   \   00000000                      DS8 4
    110          char *pt2;
   \                     pt2:
   \   00000004                      DS8 4

   \                                 In section Debug.txt, align 4, keep-with-next
    111          void InitWizFi(AT91PS_USART USART, _Net *Net)
    112          {
   \                     InitWizFi:
   \   00000000   70B5               PUSH     {R4-R6,LR}
   \   00000002   0C00               MOVS     R4,R1
    113            //Net->WiFi.HttpQueryPeriod=5000;    //[ms] okres odpytywania hosta
    114            Net->Status.Timeout=g_counter + CRYTICAL_TIMEOUT;    //przed³u¿enie /restart timeoutu
   \   00000004   2500               MOVS     R5,R4
   \   00000006   3835               ADDS     R5,R5,#+56
   \   00000008   ....               LDR      R0,??DataTable5  ;; g_counter
   \   0000000A   0CC8               LDM      R0!,{R2,R3}
   \   0000000C   ....               LDR      R0,??DataTable3  ;; 0x2710
   \   0000000E   0021               MOVS     R1,#+0
   \   00000010   8018               ADDS     R0,R0,R2
   \   00000012   5941               ADCS     R1,R1,R3
   \   00000014   03C5               STM      R5!,{R0,R1}
   \   00000016   083D               SUBS     R5,R5,#+8
    115               
    116             pt1=(char*)&Net->WiFi;
   \   00000018   0F48               LDR      R0,??InitWizFi_0  ;; pt1
   \   0000001A   2100               MOVS     R1,R4
   \   0000001C   5031               ADDS     R1,R1,#+80
   \   0000001E   0160               STR      R1,[R0, #+0]
    117             pt2=(char*)(&AT91C_IFLASH_MEM->Config.WiFi);
   \   00000020   0E49               LDR      R1,??InitWizFi_0+0x4  ;; 0x13d8b8
   \   00000022   4160               STR      R1,[R0, #+4]
    118            for (short i=0; i<sizeof(_WiFi); i++) pt1[i]=pt2[i];
   \   00000024   0022               MOVS     R2,#+0
   \                     ??InitWizFi_1:
   \   00000026   0368               LDR      R3,[R0, #+0]
   \   00000028   4668               LDR      R6,[R0, #+4]
   \   0000002A   B65C               LDRB     R6,[R6, R2]
   \   0000002C   9E54               STRB     R6,[R3, R2]
   \   0000002E   521C               ADDS     R2,R2,#+1
   \   00000030   1304               LSLS     R3,R2,#+16
   \   00000032   1B0C               LSRS     R3,R3,#+16
   \   00000034   A22B               CMP      R3,#+162
   \   00000036   F6D3               BCC      ??InitWizFi_1
    119            
    120            
    121            Net->WiFi.On=AT91C_IFLASH_MEM->Config.WiFi.On;
   \   00000038   0878               LDRB     R0,[R1, #+0]
   \   0000003A   2876               STRB     R0,[R5, #+24]
    122            Net->WiFi.HttpQueryPeriod=AT91C_IFLASH_MEM->Config.WiFi.HttpQueryPeriod;
   \   0000003C   0848               LDR      R0,??InitWizFi_0+0x8  ;; 0x13d956
   \   0000003E   0021               MOVS     R1,#+0
   \   00000040   405E               LDRSH    R0,[R0, R1]
    123            if ((Net->WiFi.HttpQueryPeriod==0) || (Net->WiFi.HttpQueryPeriod>60)) Net->WiFi.HttpQueryPeriod=8;              //je¿eli 0 to ustaw 8 czyli 800ms   
   \   00000042   0028               CMP      R0,#+0
   \   00000044   01D0               BEQ      ??InitWizFi_2
   \   00000046   3D28               CMP      R0,#+61
   \   00000048   00DB               BLT      ??InitWizFi_3
   \                     ??InitWizFi_2:
   \   0000004A   0820               MOVS     R0,#+8
   \                     ??InitWizFi_3:
   \   0000004C   EE34               ADDS     R4,R4,#+238
   \   0000004E   2080               STRH     R0,[R4, #+0]
    124          }   
   \   00000050   70BC               POP      {R4-R6}
   \   00000052   01BC               POP      {R0}
   \   00000054   0047               BX       R0               ;; return
   \   00000056   C046               Nop      
   \                     ??InitWizFi_0:
   \   00000058   ........           DC32     pt1
   \   0000005C   B8D81300           DC32     0x13d8b8
   \   00000060   56D91300           DC32     0x13d956
    125          
    126          
    127           
    128          
    129          //G³ówna funkcja WiFi
    130          //Funkcja wywo³ywania ci¹gle w pêtli g³ównej programu

   \                                 In section Debug.txt, align 4, keep-with-next
    131          void WiFi(char *Buff_RX, char *Buff_TX,  AT91PS_USART USART, _Net *Net)
    132          {
   \                     WiFi:
   \   00000000   F1B5               PUSH     {R0,R4-R7,LR}
   \   00000002   0400               MOVS     R4,R0
   \   00000004   0F00               MOVS     R7,R1
   \   00000006   1600               MOVS     R6,R2
   \   00000008   1D00               MOVS     R5,R3
    133               if (Net->Status.Error>3)    //przekroczenie dopuszczalnej iloœci b³êdów
   \   0000000A   687D               LDRB     R0,[R5, #+21]
   \   0000000C   0428               CMP      R0,#+4
   \   0000000E   0DD3               BCC      ??WiFi_0
    134               {
    135                  Net->Status.Error=0;
   \   00000010   0020               MOVS     R0,#+0
   \   00000012   6875               STRB     R0,[R5, #+21]
    136                  Net->Status.HostLink=DISCONNECTED;
   \   00000014   6870               STRB     R0,[R5, #+1]
    137                  Net->Status.AccesPointAssociate=DISCONNECTED;
   \   00000016   2870               STRB     R0,[R5, #+0]
    138                  Net->Status.Timeout=0;
   \   00000018   0021               MOVS     R1,#+0
   \   0000001A   2A00               MOVS     R2,R5
   \   0000001C   3832               ADDS     R2,R2,#+56
   \   0000001E   03C2               STM      R2!,{R0,R1}
    139                  Net->Status.HttpNextQueryTime=0;
   \   00000020   2A00               MOVS     R2,R5
   \   00000022   3032               ADDS     R2,R2,#+48
   \   00000024   03C2               STM      R2!,{R0,R1}
    140                  Net->Status.FreezTime=0;
   \   00000026   2864               STR      R0,[R5, #+64]
   \   00000028   6964               STR      R1,[R5, #+68]
   \   0000002A   0EE0               B        ??WiFi_1
    141               }
    142            
    143            
    144               //sprawdzenie Timeoutu
    145               if ((Net->Status.FreezTime==0) || (Net->Status.FreezTime<g_counter))
   \                     ??WiFi_0:
   \   0000002C   286C               LDR      R0,[R5, #+64]
   \   0000002E   696C               LDR      R1,[R5, #+68]
   \   00000030   0029               CMP      R1,#+0
   \   00000032   01D1               BNE      ??WiFi_2
   \   00000034   0028               CMP      R0,#+0
   \   00000036   08D0               BEQ      ??WiFi_1
   \                     ??WiFi_2:
   \   00000038   0200               MOVS     R2,R0
   \   0000003A   0B00               MOVS     R3,R1
   \   0000003C   ....               LDR      R0,??DataTable5  ;; g_counter
   \   0000003E   03C8               LDM      R0!,{R0,R1}
   \   00000040   8B42               CMP      R3,R1
   \   00000042   5BD8               BHI      ??WiFi_3
   \   00000044   01D3               BCC      ??WiFi_1
   \   00000046   8242               CMP      R2,R0
   \   00000048   58D2               BCS      ??WiFi_3
    146               {  
    147                   if ((Net->Status.Timeout<g_counter) && (Net->Status.Timeout>0))
   \                     ??WiFi_1:
   \   0000004A   2800               MOVS     R0,R5
   \   0000004C   3830               ADDS     R0,R0,#+56
   \   0000004E   03C8               LDM      R0!,{R0,R1}
   \   00000050   ....               LDR      R2,??DataTable5  ;; g_counter
   \   00000052   0CCA               LDM      R2!,{R2,R3}
   \   00000054   9942               CMP      R1,R3
   \   00000056   25D8               BHI      ??WiFi_4
   \   00000058   01D3               BCC      ??WiFi_5
   \   0000005A   9042               CMP      R0,R2
   \   0000005C   22D2               BCS      ??WiFi_4
   \                     ??WiFi_5:
   \   0000005E   0029               CMP      R1,#+0
   \   00000060   01D1               BNE      ??WiFi_6
   \   00000062   0028               CMP      R0,#+0
   \   00000064   1ED0               BEQ      ??WiFi_4
    148                   {//Timeout przekroczony
    149                     
    150                      Net->Status.CurrentOrder=WizFi_NC;
   \                     ??WiFi_6:
   \   00000066   0020               MOVS     R0,#+0
   \   00000068   A870               STRB     R0,[R5, #+2]
    151                      Net->Status.RepeatOrder=0; 
   \   0000006A   6871               STRB     R0,[R5, #+5]
    152                     
    153                      //je¿eli utracono po³¹czenie z hostem
    154                      if (Net->Status.AccesPointAssociate==CONNECTED)                             //je¿eli brak po³¹czenia z serwerem hosta
   \   0000006C   2978               LDRB     R1,[R5, #+0]
   \   0000006E   0329               CMP      R1,#+3
   \   00000070   0DD1               BNE      ??WiFi_7
    155                          {
    156                             Net->Status.HostLink=DISCONNECTED;
   \   00000072   6870               STRB     R0,[R5, #+1]
    157                             Net->Status.Timeout=0;
   \   00000074   0021               MOVS     R1,#+0
   \   00000076   2A00               MOVS     R2,R5
   \   00000078   3832               ADDS     R2,R2,#+56
   \   0000007A   03C2               STM      R2!,{R0,R1}
    158                             Net->Status.HttpNextQueryTime=0;
   \   0000007C   2A00               MOVS     R2,R5
   \   0000007E   3032               ADDS     R2,R2,#+48
   \   00000080   03C2               STM      R2!,{R0,R1}
    159                             Net->Status.FreezTime=0;
   \   00000082   2864               STR      R0,[R5, #+64]
   \   00000084   6964               STR      R1,[R5, #+68]
    160                             Net->Status.Error++;
   \   00000086   687D               LDRB     R0,[R5, #+21]
   \   00000088   401C               ADDS     R0,R0,#+1
   \   0000008A   6875               STRB     R0,[R5, #+21]
   \   0000008C   36E0               B        ??WiFi_3
    161                          }else{
    162                             Net->Status.AccesPointAssociate=DISCONNECTED;
   \                     ??WiFi_7:
   \   0000008E   2870               STRB     R0,[R5, #+0]
    163                             Net->Status.Timeout=0;
   \   00000090   0021               MOVS     R1,#+0
   \   00000092   2A00               MOVS     R2,R5
   \   00000094   3832               ADDS     R2,R2,#+56
   \   00000096   03C2               STM      R2!,{R0,R1}
    164                             Net->Status.HttpNextQueryTime=0;
   \   00000098   2A00               MOVS     R2,R5
   \   0000009A   3032               ADDS     R2,R2,#+48
   \   0000009C   03C2               STM      R2!,{R0,R1}
    165                             Net->Status.FreezTime=0;
   \   0000009E   4035               ADDS     R5,R5,#+64
   \   000000A0   03C5               STM      R5!,{R0,R1}
   \   000000A2   2BE0               B        ??WiFi_3
    166                          }
    167                   }else{
    168                      if (Net->Status.AccesPointAssociate==DISCONNECTED)                      //je¿eli brak po³¹czenia z acces pointem to zainicjalizuj ³¹czenie
   \                     ??WiFi_4:
   \   000000A4   2878               LDRB     R0,[R5, #+0]
   \   000000A6   0028               CMP      R0,#+0
   \   000000A8   11D1               BNE      ??WiFi_8
    169                      {
    170                          for (short i=0; i<sizeof(Buff_RX); i++) Buff_RX[i]=0;
   \   000000AA   0421               MOVS     R1,#+4
   \   000000AC   2000               MOVS     R0,R4
   \   000000AE   ........           BL       __aeabi_memclr
    171                          Net->Status.AccesPointAssociate=CONNECTING;                         //zmiana statusu RouterAssociate na ³¹czenie 
   \   000000B2   0220               MOVS     R0,#+2
   \   000000B4   2870               STRB     R0,[R5, #+0]
    172                          Net->Status.HostLink=DISCONNECTED;                                  //reset flagi stanu po³¹czenie z hostem
   \   000000B6   0020               MOVS     R0,#+0
   \   000000B8   6870               STRB     R0,[R5, #+1]
    173                          Net->Status.CurrentOrder=WizFi_NC;                                  //reset flagi rozkazu
   \   000000BA   A870               STRB     R0,[R5, #+2]
    174                          Net->Status.RepeatOrder=0;
   \   000000BC   6871               STRB     R0,[R5, #+5]
    175                          Net->Status.NextHttpOrder=WizFi_NC;                                 //reset flagi oczekuj¹cego rozkazu
   \   000000BE   E870               STRB     R0,[R5, #+3]
    176                          
    177                          AP_Associate(Buff_RX, Buff_TX,USART,Net);                                    //inicjalizacja po³¹czenie z acces point'em                                                                                                         
   \   000000C0   2B00               MOVS     R3,R5
   \   000000C2   3200               MOVS     R2,R6
   \   000000C4   3900               MOVS     R1,R7
   \   000000C6   2000               MOVS     R0,R4
   \   000000C8   ........           BL       AP_Associate
   \   000000CC   16E0               B        ??WiFi_3
    178                      }else if (Net->Status.AccesPointAssociate==CONNECTED) 
   \                     ??WiFi_8:
   \   000000CE   0328               CMP      R0,#+3
   \   000000D0   14D1               BNE      ??WiFi_3
    179                      {
    180                        if (Net->Status.HostLink==DISCONNECTED)                               //je¿eli brak po³¹czenia z serwerem hosta
   \   000000D2   6878               LDRB     R0,[R5, #+1]
   \   000000D4   0028               CMP      R0,#+0
   \   000000D6   06D1               BNE      ??WiFi_9
    181                          {
    182                             WizFiCommand_AT_NCTCP(Buff_RX, Buff_TX,USART, Net); 
                                    ^
Warning[Pe223]: function "WizFiCommand_AT_NCTCP" declared implicitly
   \   000000D8   2B00               MOVS     R3,R5
   \   000000DA   3200               MOVS     R2,R6
   \   000000DC   3900               MOVS     R1,R7
   \   000000DE   2000               MOVS     R0,R4
   \   000000E0   ........           BL       WizFiCommand_AT_NCTCP
   \   000000E4   0AE0               B        ??WiFi_3
    183                          }else if (Net->Status.HostLink==CONNECTED)                          //je¿eli po³¹czony z serwerem hosta
   \                     ??WiFi_9:
   \   000000E6   0328               CMP      R0,#+3
   \   000000E8   08D1               BNE      ??WiFi_3
    184                          {
    185                             if( Net->Status.CurrentOrder==WizFi_NC)                          //je¿eli brak bierz¹cych zadañ
   \   000000EA   A878               LDRB     R0,[R5, #+2]
   \   000000EC   0028               CMP      R0,#+0
   \   000000EE   05D1               BNE      ??WiFi_3
    186                             {                                                             //HTTP_CheckConnection(Buff_TX,  USART, Net);
    187                                  HTTP_Task(Buff_RX, Buff_TX,USART, Net);                                //wykonaj kolejne zadanie HTTP
   \   000000F0   2B00               MOVS     R3,R5
   \   000000F2   3200               MOVS     R2,R6
   \   000000F4   3900               MOVS     R1,R7
   \   000000F6   2000               MOVS     R0,R4
   \   000000F8   ........           BL       HTTP_Task
    188                             }
    189                          }
    190                      }
    191                     
    192                   } //koniec: if ((Net->Status.Timeout<g_counter) && (Net->Status.Timeout>0))
    193               } //koniec: if ((Net->Status.FreezTime==0) || (Net->Status.FreezTime<g_counter))
    194            
    195          }
   \                     ??WiFi_3:
   \   000000FC   F8BC               POP      {R3-R7}
   \   000000FE   01BC               POP      {R0}
   \   00000100   0047               BX       R0               ;; return
    196          
    197          
    198          
    199           extern long long FuseLastWiFiDataIn;  //zabezpieczenie przed blokad¹ DMA USART. FuseLastWiFiDataIn zawiera czas ostatniej odpowiedzi od usarta. Je¿eli WiFi jest w³¹czone a USART milczy od 30s to restartuj mikroprocesor
    200                        
    201          
    202          
    203          //G³ówna funkcja interpretacji odpowiedzi

   \                                 In section Debug.txt, align 4, keep-with-next
    204          void WizFiResponseInterpreter(char *Buff_RX, char *Buff_TX,  AT91PS_USART USART, _Net *Net)
    205          {
   \                     WizFiResponseInterpreter:
   \   00000000   F1B5               PUSH     {R0,R4-R7,LR}
   \   00000002   0400               MOVS     R4,R0
   \   00000004   0F00               MOVS     R7,R1
   \   00000006   1500               MOVS     R5,R2
   \   00000008   1E00               MOVS     R6,R3
    206                char *pTxt;
    207                
    208                if (WiFiDebug) SendViaUSB(Buff_RX, 580);
                                                 ^
Warning[Pe167]: argument of type "char *" is incompatible with parameter of
          type "unsigned char *"
   \   0000000A   4848               LDR      R0,??WizFiResponseInterpreter_0  ;; WiFiDebug
   \   0000000C   0078               LDRB     R0,[R0, #+0]
   \   0000000E   0028               CMP      R0,#+0
   \   00000010   04D0               BEQ      ??WizFiResponseInterpreter_1
   \   00000012   9121               MOVS     R1,#+145
   \   00000014   8900               LSLS     R1,R1,#+2        ;; #+580
   \   00000016   2000               MOVS     R0,R4
   \   00000018   ........           BL       SendViaUSB
   \                     ??WizFiResponseInterpreter_1:
   \   0000001C   444A               LDR      R2,??WizFiResponseInterpreter_0+0x4  ;; FuseLastWiFiDataIn
   \   0000001E   4548               LDR      R0,??WizFiResponseInterpreter_0+0x8  ;; g_counter
   \   00000020   03C8               LDM      R0!,{R0,R1}
   \   00000022   03C2               STM      R2!,{R0,R1}
   \   00000024   4449               LDR      R1,??WizFiResponseInterpreter_0+0xC  ;; `?<Constant "[DISCONNECT">` + 52
   \   00000026   2000               MOVS     R0,R4
   \   00000028   ........           BL       __iar_Strstr
   \   0000002C   0028               CMP      R0,#+0
   \   0000002E   05D1               BNE      ??WizFiResponseInterpreter_2
   \   00000030   4249               LDR      R1,??WizFiResponseInterpreter_0+0x10  ;; `?<Constant "[DISCONNECT">` + 68
   \   00000032   2000               MOVS     R0,R4
   \   00000034   ........           BL       __iar_Strstr
   \   00000038   0028               CMP      R0,#+0
   \   0000003A   0BD0               BEQ      ??WizFiResponseInterpreter_3
    209               
    210          
    211                FuseLastWiFiDataIn=g_counter;
    212                
    213                if ((strstr(Buff_RX, "[DISASSOCIATED]")!=NULL) || (strstr(Buff_RX, "[ERROR]")!=NULL))
    214                {
    215             
    216                   Net->Status.AccesPointAssociate=DISCONNECTED;
   \                     ??WizFiResponseInterpreter_2:
   \   0000003C   0022               MOVS     R2,#+0
   \   0000003E   0020               MOVS     R0,#+0
   \   00000040   3070               STRB     R0,[R6, #+0]
    217                   Net->Status.HostLink=DISCONNECTED; 
   \   00000042   7070               STRB     R0,[R6, #+1]
    218                   Net->Status.FreezTime=0;
   \   00000044   0100               MOVS     R1,R0
   \   00000046   3064               STR      R0,[R6, #+64]
   \   00000048   7164               STR      R1,[R6, #+68]
    219                   Net->Status.Timeout=0;
   \   0000004A   3300               MOVS     R3,R6
   \   0000004C   3833               ADDS     R3,R3,#+56
   \   0000004E   03C3               STM      R3!,{R0,R1}
    220                   Net->Status.CurrentOrder=WizFi_NC;
   \   00000050   B270               STRB     R2,[R6, #+2]
   \   00000052   67E0               B        ??WizFiResponseInterpreter_4
    221                   
    222                }
    223                
    224                
    225          
    226                else if (Net->Status.AccesPointAssociate==CONNECTING)
   \                     ??WizFiResponseInterpreter_3:
   \   00000054   3078               LDRB     R0,[R6, #+0]
   \   00000056   0228               CMP      R0,#+2
   \   00000058   06D1               BNE      ??WizFiResponseInterpreter_5
    227                {
    228                   AP_AssociateResponseInterpreter(Buff_RX,Buff_TX,USART, Net);           //odpowiedz dla zadania 
   \   0000005A   3300               MOVS     R3,R6
   \   0000005C   2A00               MOVS     R2,R5
   \   0000005E   3900               MOVS     R1,R7
   \   00000060   2000               MOVS     R0,R4
   \   00000062   ........           BL       AP_AssociateResponseInterpreter
   \   00000066   5DE0               B        ??WizFiResponseInterpreter_4
    229                }else if (Net->Status.AccesPointAssociate==CONNECTED) 
   \                     ??WizFiResponseInterpreter_5:
   \   00000068   0328               CMP      R0,#+3
   \   0000006A   5BD1               BNE      ??WizFiResponseInterpreter_4
    230                {
    231                    if (strstr(Buff_RX, "send() failed:")!=NULL)
   \   0000006C   3449               LDR      R1,??WizFiResponseInterpreter_0+0x14  ;; `?<Constant "[DISCONNECT">` + 36
   \   0000006E   2000               MOVS     R0,R4
   \   00000070   ........           BL       __iar_Strstr
   \   00000074   0028               CMP      R0,#+0
   \   00000076   0BD0               BEQ      ??WizFiResponseInterpreter_6
    232                    {
    233                      //for (short i=0; i<sizeof(Buff_RX); i++) Buff_RX[i]=0;
    234                      Net->Status.CurrentOrder=WizFi_NC;
   \   00000078   0022               MOVS     R2,#+0
   \   0000007A   0020               MOVS     R0,#+0
   \   0000007C   B070               STRB     R0,[R6, #+2]
    235                      Net->Status.FreezTime=0;
   \   0000007E   0100               MOVS     R1,R0
   \   00000080   3064               STR      R0,[R6, #+64]
   \   00000082   7164               STR      R1,[R6, #+68]
    236                      Net->Status.Timeout=0;
   \   00000084   3300               MOVS     R3,R6
   \   00000086   3833               ADDS     R3,R3,#+56
   \   00000088   03C3               STM      R3!,{R0,R1}
    237                      Net->Status.NextHttpOrder=0;
                                                      ^
Warning[Pe188]: enumerated type mixed with another type
   \   0000008A   F070               STRB     R0,[R6, #+3]
    238                      Net->Status.HostLink=DISCONNECTED; 
   \   0000008C   7270               STRB     R2,[R6, #+1]
   \   0000008E   49E0               B        ??WizFiResponseInterpreter_4
    239                    }
    240                    else if (Net->Status.HostLink==CONNECTING)                            //je¿eli ³¹czenie z hostem
   \                     ??WizFiResponseInterpreter_6:
   \   00000090   7078               LDRB     R0,[R6, #+1]
   \   00000092   0228               CMP      R0,#+2
   \   00000094   06D1               BNE      ??WizFiResponseInterpreter_7
    241                    {
    242                      WizFiResponseCommand_AT_NCTCP(Buff_RX,Buff_TX,USART, Net);          //odpowiedz dla zadania 
                             ^
Warning[Pe223]: function "WizFiResponseCommand_AT_NCTCP" declared implicitly
   \   00000096   3300               MOVS     R3,R6
   \   00000098   2A00               MOVS     R2,R5
   \   0000009A   3900               MOVS     R1,R7
   \   0000009C   2000               MOVS     R0,R4
   \   0000009E   ........           BL       WizFiResponseCommand_AT_NCTCP
   \   000000A2   3FE0               B        ??WizFiResponseInterpreter_4
    243                      
    244                    }
    245                    else if (Net->Status.HostLink==CONNECTED)                             //je¿eli po³¹czono z hostem
   \                     ??WizFiResponseInterpreter_7:
   \   000000A4   0328               CMP      R0,#+3
   \   000000A6   35D1               BNE      ??WizFiResponseInterpreter_8
    246                    {
    247                       pTxt=strstr(Buff_RX, "[DISCONNECT");                               //jê¿eli porzysz³a informacja o roz³¹czeniu
   \   000000A8   2649               LDR      R1,??WizFiResponseInterpreter_0+0x18  ;; `?<Constant "[DISCONNECT">`
   \   000000AA   2000               MOVS     R0,R4
   \   000000AC   ........           BL       __iar_Strstr
    248                       if ((pTxt!=NULL) && (Net->Status.HostLink==CONNECTED))
   \   000000B0   0028               CMP      R0,#+0
   \   000000B2   12D0               BEQ      ??WizFiResponseInterpreter_9
   \   000000B4   7178               LDRB     R1,[R6, #+1]
   \   000000B6   0329               CMP      R1,#+3
   \   000000B8   0FD1               BNE      ??WizFiResponseInterpreter_9
    249                       {
    250                          if(pTxt[12]==Net->Status.HostChannel) 
   \   000000BA   007B               LDRB     R0,[R0, #+12]
   \   000000BC   B17D               LDRB     R1,[R6, #+22]
   \   000000BE   8842               CMP      R0,R1
   \   000000C0   0BD1               BNE      ??WizFiResponseInterpreter_9
    251                           {
    252                             for (short i=0; i<sizeof(Buff_RX); i++) Buff_RX[i]=0; 
   \   000000C2   0421               MOVS     R1,#+4
   \   000000C4   2000               MOVS     R0,R4
   \   000000C6   ........           BL       __aeabi_memclr
    253                             Net->Status.FreezTime=g_counter+FREEZ_TIME;
   \   000000CA   1A48               LDR      R0,??WizFiResponseInterpreter_0+0x8  ;; g_counter
   \   000000CC   03C8               LDM      R0!,{R0,R1}
   \   000000CE   0022               MOVS     R2,#+0
   \   000000D0   3230               ADDS     R0,R0,#+50
   \   000000D2   5141               ADCS     R1,R1,R2
   \   000000D4   3064               STR      R0,[R6, #+64]
   \   000000D6   7164               STR      R1,[R6, #+68]
    254                             Net->Status.HostLink=DISCONNECTED;                           //Roz³¹czenie
   \   000000D8   7270               STRB     R2,[R6, #+1]
    255                           }
    256                        }
    257                       
    258                       
    259                       if (strstr(Buff_RX, "[ERROR: INVALID INPUT]")!=NULL)        //jê¿eli porzysz³a informacja o b³edzie
   \                     ??WizFiResponseInterpreter_9:
   \   000000DA   1B49               LDR      R1,??WizFiResponseInterpreter_0+0x1C  ;; `?<Constant "[DISCONNECT">` + 12
   \   000000DC   2000               MOVS     R0,R4
   \   000000DE   ........           BL       __iar_Strstr
   \   000000E2   0028               CMP      R0,#+0
   \   000000E4   0FD0               BEQ      ??WizFiResponseInterpreter_10
    260                        {
    261                            for (short i=0; i<sizeof(Buff_RX); i++) Buff_RX[i]=0;
   \   000000E6   0421               MOVS     R1,#+4
   \   000000E8   2000               MOVS     R0,R4
   \   000000EA   ........           BL       __aeabi_memclr
    262                            Net->Status.FreezTime=g_counter+FREEZ_TIME;
   \   000000EE   1148               LDR      R0,??WizFiResponseInterpreter_0+0x8  ;; g_counter
   \   000000F0   03C8               LDM      R0!,{R0,R1}
   \   000000F2   0022               MOVS     R2,#+0
   \   000000F4   3230               ADDS     R0,R0,#+50
   \   000000F6   5141               ADCS     R1,R1,R2
   \   000000F8   3064               STR      R0,[R6, #+64]
   \   000000FA   7164               STR      R1,[R6, #+68]
    263                            Net->Status.HostLink=DISCONNECTED;                            //Roz³¹czenie
   \   000000FC   7270               STRB     R2,[R6, #+1]
    264                            Net->Status.Error++;
   \   000000FE   707D               LDRB     R0,[R6, #+21]
   \   00000100   401C               ADDS     R0,R0,#+1
   \   00000102   7075               STRB     R0,[R6, #+21]
   \   00000104   0EE0               B        ??WizFiResponseInterpreter_4
    265                        }
    266                        else
    267                        {
    268                            HTTP_QueryResponse(Buff_RX,Buff_TX,USART, Net); 
   \                     ??WizFiResponseInterpreter_10:
   \   00000106   3300               MOVS     R3,R6
   \   00000108   2A00               MOVS     R2,R5
   \   0000010A   3900               MOVS     R1,R7
   \   0000010C   2000               MOVS     R0,R4
   \   0000010E   ........           BL       HTTP_QueryResponse
   \   00000112   07E0               B        ??WizFiResponseInterpreter_4
    269                        }
    270                                                                                          //if (Net->Status.CurrentOrder==WizFi_AT_CID)
    271                                                                                          //{
    272                                                                                          //   HTTP_CheckConnectionResponse(Buff_RX,Buff_TX,USART, Net);         
    273                                                                                          //}else{
    274                                                                                          //     HTTP_QueryResponse(Buff_RX,Buff_TX,USART, Net); 
    275                                                                                          //}
    276                    }
    277                    else if (Net->Status.HostLink==DISCONNECTING)
   \                     ??WizFiResponseInterpreter_8:
   \   00000114   0128               CMP      R0,#+1
   \   00000116   05D1               BNE      ??WizFiResponseInterpreter_4
    278                    {
    279                       WizFiResponseCommand_AT_NCLOSEALL0(Buff_RX,Buff_TX,USART, Net);
   \   00000118   3300               MOVS     R3,R6
   \   0000011A   2A00               MOVS     R2,R5
   \   0000011C   3900               MOVS     R1,R7
   \   0000011E   2000               MOVS     R0,R4
   \   00000120   ........           BL       WizFiResponseCommand_AT_NCLOSEALL0
    280                    }
    281                }                                                                         //koniec: else if (Net->Status.AccesPointAssociate==CONNECTED) 
    282          }
   \                     ??WizFiResponseInterpreter_4:
   \   00000124   F8BC               POP      {R3-R7}
   \   00000126   01BC               POP      {R0}
   \   00000128   0047               BX       R0               ;; return
   \   0000012A   C046               Nop      
   \                     ??WizFiResponseInterpreter_0:
   \   0000012C   ........           DC32     WiFiDebug
   \   00000130   ........           DC32     FuseLastWiFiDataIn
   \   00000134   ........           DC32     g_counter
   \   00000138   ........           DC32     `?<Constant "[DISCONNECT">` + 52
   \   0000013C   ........           DC32     `?<Constant "[DISCONNECT">` + 68
   \   00000140   ........           DC32     `?<Constant "[DISCONNECT">` + 36
   \   00000144   ........           DC32     `?<Constant "[DISCONNECT">`
   \   00000148   ........           DC32     `?<Constant "[DISCONNECT">` + 12
    283          
    284          
    285          
    286          
    287          
    288          
    289          
    290          //funkcja ³¹czenia z acces point'em

   \                                 In section Debug.txt, align 4, keep-with-next
    291          void AP_Associate(char *Buff_RX, char *Buff_TX,  AT91PS_USART USART, _Net *Net)
    292          {
   \                     AP_Associate:
   \   00000000   F1B5               PUSH     {R0,R4-R7,LR}
   \   00000002   0400               MOVS     R4,R0
   \   00000004   0D00               MOVS     R5,R1
   \   00000006   1600               MOVS     R6,R2
   \   00000008   1F00               MOVS     R7,R3
    293                Net->Status.AccesPointAssociate=CONNECTING;                          //zmiana statusu RouterAssociate na ³¹czenie 
   \   0000000A   0220               MOVS     R0,#+2
   \   0000000C   3870               STRB     R0,[R7, #+0]
    294                
    295                
    296                switch (Net->Status.CurrentOrder)
   \   0000000E   B878               LDRB     R0,[R7, #+2]
   \   00000010   0C28               CMP      R0,#+12
   \   00000012   4BD8               BHI      ??AP_Associate_1
   \   00000014   01A1               ADR      R1,??AP_Associate_0
   \   00000016   095C               LDRB     R1,[R1, R0]
   \   00000018   8F44               ADD      PC,PC,R1
   \   0000001A   C046               Nop      
   \                     ??AP_Associate_0:
   \   0000001C   0E0E1822           DC8      +14,+14,+24,+34
   \   00000020   2C36404A           DC8      +44,+54,+64,+74
   \   00000024   545E6A7A           DC8      +84,+94,+106,+122
   \   00000028   8800               DC8      +136,+0
    297                {
    298                  case WizFi_NC:           WizFiCommand_AT(Buff_RX, Buff_TX,USART, Net);   break;           //kolejny rozkaz
   \                     ??AP_Associate_2:
   \   0000002A   2900               MOVS     R1,R5
   \   0000002C   2000               MOVS     R0,R4
   \   0000002E   ........           BL       WizFiCommand_AT
   \   00000032   3BE0               B        ??AP_Associate_1
    299                  case WizFi_AT:           WizFiCommand_AT(Buff_RX, Buff_TX,USART, Net);   break;           //kolejny rozkaz
    300                  case WizFi_AT_VER:       WizFiCommand_AT_VER(Buff_RX, Buff_TX,USART, Net);   break;           //wyœlij rozkaz rozkaz
                                                  ^
Warning[Pe223]: function "WizFiCommand_AT_VER" declared implicitly
   \                     ??AP_Associate_3:
   \   00000034   2900               MOVS     R1,R5
   \   00000036   2000               MOVS     R0,R4
   \   00000038   ........           BL       WizFiCommand_AT_VER
   \   0000003C   36E0               B        ??AP_Associate_1
    301                  case WizFi_ATI2:         WizFiCommand_ATI2(Buff_RX, Buff_TX,USART, Net);   break;           //wyœlij rozkaz rozkaz
                                                  ^
Warning[Pe223]: function "WizFiCommand_ATI2" declared implicitly
   \                     ??AP_Associate_4:
   \   0000003E   2900               MOVS     R1,R5
   \   00000040   2000               MOVS     R0,R4
   \   00000042   ........           BL       WizFiCommand_ATI2
   \   00000046   31E0               B        ??AP_Associate_1
    302                  case WizFi_AT_XDUM0:     WizFiCommand_AT_XDUM0(Buff_RX, Buff_TX,USART, Net);   break;           //wyœlij rozkaz rozkaz
   \                     ??AP_Associate_5:
   \   00000048   2900               MOVS     R1,R5
   \   0000004A   2000               MOVS     R0,R4
   \   0000004C   ........           BL       WizFiCommand_AT_XDUM0
   \   00000050   2CE0               B        ??AP_Associate_1
    303                  case WizFi_AT_WD:        WizFiCommand_AT_WD(Buff_RX, Buff_TX,USART, Net);   break;           //wyœlij rozkaz rozkaz
   \                     ??AP_Associate_6:
   \   00000052   2900               MOVS     R1,R5
   \   00000054   2000               MOVS     R0,R4
   \   00000056   ........           BL       WizFiCommand_AT_WD
   \   0000005A   27E0               B        ??AP_Associate_1
    304                  case WizFi_AT_NSET:      WizFiCommand_AT_NSET(Buff_RX, Buff_TX,USART, Net);   break;           //wyœlij rozkaz rozkaz
                                                  ^
Warning[Pe223]: function "WizFiCommand_AT_NSET" declared implicitly
   \                     ??AP_Associate_7:
   \   0000005C   2900               MOVS     R1,R5
   \   0000005E   2000               MOVS     R0,R4
   \   00000060   ........           BL       WizFiCommand_AT_NSET
   \   00000064   22E0               B        ??AP_Associate_1
    305                  case WizFi_AT_NDHCP:     WizFiCommand_AT_NDHCP(Buff_RX, Buff_TX,USART, Net);   break;           //wyœlij rozkaz rozkaz
                                                  ^
Warning[Pe223]: function "WizFiCommand_AT_NDHCP" declared implicitly
   \                     ??AP_Associate_8:
   \   00000066   2900               MOVS     R1,R5
   \   00000068   2000               MOVS     R0,R4
   \   0000006A   ........           BL       WizFiCommand_AT_NDHCP
   \   0000006E   1DE0               B        ??AP_Associate_1
    306                  case WizFi_AT_WAUTH_1:   WizFiCommand_AT_WAUTH_1(Buff_RX, Buff_TX,USART, Net);   break;           //wyœlij rozkaz rozkaz
   \                     ??AP_Associate_9:
   \   00000070   2900               MOVS     R1,R5
   \   00000072   2000               MOVS     R0,R4
   \   00000074   ........           BL       WizFiCommand_AT_WAUTH_1
   \   00000078   18E0               B        ??AP_Associate_1
    307                  case WizFi_AT_WWEP1:     if (WizFiCommand_AT_WWEP1(Buff_RX, Buff_TX,USART, Net))  {break;}           //wyœlij rozkaz rozkaz
   \                     ??AP_Associate_10:
   \   0000007A   2900               MOVS     R1,R5
   \   0000007C   2000               MOVS     R0,R4
   \   0000007E   ........           BL       WizFiCommand_AT_WWEP1
   \   00000082   0028               CMP      R0,#+0
   \   00000084   12D1               BNE      ??AP_Associate_1
    308                  case WizFi_AT_WWPA:      if (WizFiCommand_AT_WWPA(Buff_RX, Buff_TX,USART, Net))  {break;}            //wyœlij rozkaz rozkaz
   \                     ??AP_Associate_11:
   \   00000086   3B00               MOVS     R3,R7
   \   00000088   3200               MOVS     R2,R6
   \   0000008A   2900               MOVS     R1,R5
   \   0000008C   2000               MOVS     R0,R4
   \   0000008E   ........           BL       WizFiCommand_AT_WWPA
   \   00000092   0028               CMP      R0,#+0
   \   00000094   0AD1               BNE      ??AP_Associate_1
    309                  case WizFi_AT_WA:        WizFiCommand_AT_WA(Buff_RX, Buff_TX,USART, Net);   break;           //wyœlij rozkaz rozkaz
   \                     ??AP_Associate_12:
   \   00000096   3B00               MOVS     R3,R7
   \   00000098   3200               MOVS     R2,R6
   \   0000009A   2900               MOVS     R1,R5
   \   0000009C   2000               MOVS     R0,R4
   \   0000009E   ........           BL       WizFiCommand_AT_WA
   \   000000A2   03E0               B        ??AP_Associate_1
    310                  case WizFi_AT_DNSLOOKUP: WizFiCommand_AT_DNSLOOKUP(Buff_RX, Buff_TX,USART, Net);   break;           //wyœlij rozkaz rozkaz
   \                     ??AP_Associate_13:
   \   000000A4   2900               MOVS     R1,R5
   \   000000A6   2000               MOVS     R0,R4
   \   000000A8   ........           BL       WizFiCommand_AT_DNSLOOKUP
    311                }
    312                
    313                
    314          }
   \                     ??AP_Associate_1:
   \   000000AC   F8BC               POP      {R3-R7}
   \   000000AE   01BC               POP      {R0}
   \   000000B0   0047               BX       R0               ;; return
    315          
    316                    
    317          
    318          
    319          
    320          

   \                                 In section Debug.txt, align 4, keep-with-next
    321          void AP_AssociateResponseInterpreter(char *Buff_RX, char *Buff_TX,  AT91PS_USART USART, _Net *Net)
    322          {
   \                     AP_AssociateResponseInterpreter:
   \   00000000   F1B5               PUSH     {R0,R4-R7,LR}
   \   00000002   0400               MOVS     R4,R0
   \   00000004   0F00               MOVS     R7,R1
   \   00000006   1500               MOVS     R5,R2
   \   00000008   1E00               MOVS     R6,R3
   \   0000000A   5A48               LDR      R0,??AP_AssociateResponseInterpreter_1  ;; g_counter
   \   0000000C   03C8               LDM      R0!,{R0,R1}
   \   0000000E   0022               MOVS     R2,#+0
   \   00000010   3230               ADDS     R0,R0,#+50
   \   00000012   5141               ADCS     R1,R1,R2
   \   00000014   3064               STR      R0,[R6, #+64]
   \   00000016   7164               STR      R1,[R6, #+68]
   \   00000018   0020               MOVS     R0,#+0
    323                Net->Status.FreezTime=g_counter+FREEZ_TIME;
    324                char Odp=0;
    325                switch (Net->Status.CurrentOrder)
   \   0000001A   B178               LDRB     R1,[R6, #+2]
   \   0000001C   491E               SUBS     R1,R1,#+1
   \   0000001E   0B29               CMP      R1,#+11
   \   00000020   4FD8               BHI      ??AP_AssociateResponseInterpreter_2
   \   00000022   01A2               ADR      R2,??AP_AssociateResponseInterpreter_0
   \   00000024   525C               LDRB     R2,[R2, R1]
   \   00000026   9744               ADD      PC,PC,R2
   \                     ??AP_AssociateResponseInterpreter_0:
   \   00000028   0A16222E           DC8      +10,+22,+34,+46
   \   0000002C   3A46525E           DC8      +58,+70,+82,+94
   \   00000030   6A76828E           DC8      +106,+118,+130,+142
    326                {
    327                  case WizFi_AT:            Odp=WizFiResponseCommand_AT(Buff_RX,Buff_TX,USART, Net);   break;        //odpowiedz dla zadania 
   \                     ??AP_AssociateResponseInterpreter_3:
   \   00000034   2A00               MOVS     R2,R5
   \   00000036   3900               MOVS     R1,R7
   \   00000038   2000               MOVS     R0,R4
   \   0000003A   ........           BL       WizFiResponseCommand_AT
   \   0000003E   40E0               B        ??AP_AssociateResponseInterpreter_2
    328                  case WizFi_AT_VER:        Odp=WizFiResponseCommand_AT_VER(Buff_RX,Buff_TX,USART, Net);   break;        //odpowiedz dla zadania 
                                                       ^
Warning[Pe223]: function "WizFiResponseCommand_AT_VER" declared implicitly
   \                     ??AP_AssociateResponseInterpreter_4:
   \   00000040   2A00               MOVS     R2,R5
   \   00000042   3900               MOVS     R1,R7
   \   00000044   2000               MOVS     R0,R4
   \   00000046   ........           BL       WizFiResponseCommand_AT_VER
   \   0000004A   3AE0               B        ??AP_AssociateResponseInterpreter_2
    329                  case WizFi_ATI2:          Odp=WizFiResponseCommand_ATI2(Buff_RX,Buff_TX,USART, Net);   break;        //odpowiedz dla zadania 
                                                       ^
Warning[Pe223]: function "WizFiResponseCommand_ATI2" declared implicitly
   \                     ??AP_AssociateResponseInterpreter_5:
   \   0000004C   2A00               MOVS     R2,R5
   \   0000004E   3900               MOVS     R1,R7
   \   00000050   2000               MOVS     R0,R4
   \   00000052   ........           BL       WizFiResponseCommand_ATI2
   \   00000056   34E0               B        ??AP_AssociateResponseInterpreter_2
    330                  case WizFi_AT_XDUM0:      Odp=WizFiResponseCommand_AT_XDUM0(Buff_RX,Buff_TX,USART, Net);   break;        //odpowiedz dla zadania 
   \                     ??AP_AssociateResponseInterpreter_6:
   \   00000058   2A00               MOVS     R2,R5
   \   0000005A   3900               MOVS     R1,R7
   \   0000005C   2000               MOVS     R0,R4
   \   0000005E   ........           BL       WizFiResponseCommand_AT_XDUM0
   \   00000062   2EE0               B        ??AP_AssociateResponseInterpreter_2
    331                  case WizFi_AT_WD:         Odp=WizFiResponseCommand_AT_WD(Buff_RX,Buff_TX,USART, Net);   break;     //odpowiedz dla zadania 
   \                     ??AP_AssociateResponseInterpreter_7:
   \   00000064   2A00               MOVS     R2,R5
   \   00000066   3900               MOVS     R1,R7
   \   00000068   2000               MOVS     R0,R4
   \   0000006A   ........           BL       WizFiResponseCommand_AT_WD
   \   0000006E   28E0               B        ??AP_AssociateResponseInterpreter_2
    332                  case WizFi_AT_NSET:       Odp=WizFiResponseCommand_AT_NSET(Buff_RX,Buff_TX,USART, Net);   break;     //odpowiedz dla zadania 
                                                       ^
Warning[Pe223]: function "WizFiResponseCommand_AT_NSET" declared implicitly
   \                     ??AP_AssociateResponseInterpreter_8:
   \   00000070   2A00               MOVS     R2,R5
   \   00000072   3900               MOVS     R1,R7
   \   00000074   2000               MOVS     R0,R4
   \   00000076   ........           BL       WizFiResponseCommand_AT_NSET
   \   0000007A   22E0               B        ??AP_AssociateResponseInterpreter_2
    333                  case WizFi_AT_NDHCP:      Odp=WizFiResponseCommand_AT_NDHCP(Buff_RX,Buff_TX,USART, Net);   break;     //odpowiedz dla zadania 
                                                       ^
Warning[Pe223]: function "WizFiResponseCommand_AT_NDHCP" declared implicitly
   \                     ??AP_AssociateResponseInterpreter_9:
   \   0000007C   2A00               MOVS     R2,R5
   \   0000007E   3900               MOVS     R1,R7
   \   00000080   2000               MOVS     R0,R4
   \   00000082   ........           BL       WizFiResponseCommand_AT_NDHCP
   \   00000086   1CE0               B        ??AP_AssociateResponseInterpreter_2
    334                  case WizFi_AT_WAUTH_1:    Odp=WizFiResponseCommand_AT_WAUTH_1(Buff_RX,Buff_TX,USART, Net);   break;     //odpowiedz dla zadania 
   \                     ??AP_AssociateResponseInterpreter_10:
   \   00000088   2A00               MOVS     R2,R5
   \   0000008A   3900               MOVS     R1,R7
   \   0000008C   2000               MOVS     R0,R4
   \   0000008E   ........           BL       WizFiResponseCommand_AT_WAUTH_1
   \   00000092   16E0               B        ??AP_AssociateResponseInterpreter_2
    335                  case WizFi_AT_WWEP1:      Odp=WizFiResponseCommand_AT_WWEP1(Buff_RX,Buff_TX,USART, Net);   break;     //odpowiedz dla zadania 
   \                     ??AP_AssociateResponseInterpreter_11:
   \   00000094   2A00               MOVS     R2,R5
   \   00000096   3900               MOVS     R1,R7
   \   00000098   2000               MOVS     R0,R4
   \   0000009A   ........           BL       WizFiResponseCommand_AT_WWEP1
   \   0000009E   10E0               B        ??AP_AssociateResponseInterpreter_2
    336                  case WizFi_AT_WWPA:       Odp=WizFiResponseCommand_AT_WWPA(Buff_RX,Buff_TX,USART, Net);   break;     //odpowiedz dla zadania 
   \                     ??AP_AssociateResponseInterpreter_12:
   \   000000A0   2A00               MOVS     R2,R5
   \   000000A2   3900               MOVS     R1,R7
   \   000000A4   2000               MOVS     R0,R4
   \   000000A6   ........           BL       WizFiResponseCommand_AT_WWPA
   \   000000AA   0AE0               B        ??AP_AssociateResponseInterpreter_2
    337                  case WizFi_AT_WA:         Odp=WizFiResponseCommand_AT_WA(Buff_RX,Buff_TX,USART, Net);   break;     //odpowiedz dla zadania 
   \                     ??AP_AssociateResponseInterpreter_13:
   \   000000AC   2A00               MOVS     R2,R5
   \   000000AE   3900               MOVS     R1,R7
   \   000000B0   2000               MOVS     R0,R4
   \   000000B2   ........           BL       WizFiResponseCommand_AT_WA
   \   000000B6   04E0               B        ??AP_AssociateResponseInterpreter_2
    338                  case WizFi_AT_DNSLOOKUP:  Odp=WizFiResponseCommand_AT_DNSLOOKUP(Buff_RX,Buff_TX,USART, Net);   break;     //odpowiedz dla zadania 
   \                     ??AP_AssociateResponseInterpreter_14:
   \   000000B8   2A00               MOVS     R2,R5
   \   000000BA   3900               MOVS     R1,R7
   \   000000BC   2000               MOVS     R0,R4
   \   000000BE   ........           BL       WizFiResponseCommand_AT_DNSLOOKUP
    339                }
    340                   
    341                
    342                //je¿eli poprawna odpowiedŸ 
    343                if (Odp==1)
   \                     ??AP_AssociateResponseInterpreter_2:
   \   000000C2   0006               LSLS     R0,R0,#+24
   \   000000C4   000E               LSRS     R0,R0,#+24
   \   000000C6   0128               CMP      R0,#+1
   \   000000C8   19D1               BNE      ??AP_AssociateResponseInterpreter_15
    344                {
    345                  Net->Status.RepeatOrder=0;
   \   000000CA   0020               MOVS     R0,#+0
   \   000000CC   7071               STRB     R0,[R6, #+5]
    346                  if ((Net->Status.CurrentOrder<WizFi_AT_DNSLOOKUP) && (Net->Status.CurrentOrder!=WizFi_NC))
   \   000000CE   B078               LDRB     R0,[R6, #+2]
   \   000000D0   0C28               CMP      R0,#+12
   \   000000D2   4CD2               BCS      ??AP_AssociateResponseInterpreter_16
   \   000000D4   0028               CMP      R0,#+0
   \   000000D6   4AD0               BEQ      ??AP_AssociateResponseInterpreter_16
    347                  {
    348                     
    349                     Net->Status.CurrentOrder++;
   \   000000D8   401C               ADDS     R0,R0,#+1
   \   000000DA   B070               STRB     R0,[R6, #+2]
    350                     
    351                     if ((Net->WiFi.IpNotAuto==0) &&  (Net->Status.CurrentOrder==WizFi_AT_NSET))
   \   000000DC   5121               MOVS     R1,#+81
   \   000000DE   715C               LDRB     R1,[R6, R1]
   \   000000E0   0029               CMP      R1,#+0
   \   000000E2   05D1               BNE      ??AP_AssociateResponseInterpreter_17
   \   000000E4   0006               LSLS     R0,R0,#+24
   \   000000E6   000E               LSRS     R0,R0,#+24
   \   000000E8   0628               CMP      R0,#+6
   \   000000EA   01D1               BNE      ??AP_AssociateResponseInterpreter_17
    352                      { 
    353                        Net->Status.CurrentOrder++;
   \   000000EC   0720               MOVS     R0,#+7
   \   000000EE   B070               STRB     R0,[R6, #+2]
    354                      }
    355                     
    356                     AP_Associate(Buff_RX, Buff_TX,  USART, Net);
   \                     ??AP_AssociateResponseInterpreter_17:
   \   000000F0   3300               MOVS     R3,R6
   \   000000F2   2A00               MOVS     R2,R5
   \   000000F4   3900               MOVS     R1,R7
   \   000000F6   2000               MOVS     R0,R4
   \   000000F8   ........           BL       AP_Associate
   \   000000FC   37E0               B        ??AP_AssociateResponseInterpreter_16
    357                     
    358                  }
    359                }else{
    360                  if(strstr(Buff_RX, "[ERROR")!=NULL)
   \                     ??AP_AssociateResponseInterpreter_15:
   \   000000FE   1E49               LDR      R1,??AP_AssociateResponseInterpreter_1+0x4  ;; `?<Constant "[ERROR">`
   \   00000100   2000               MOVS     R0,R4
   \   00000102   ........           BL       __iar_Strstr
   \   00000106   0028               CMP      R0,#+0
   \   00000108   31D0               BEQ      ??AP_AssociateResponseInterpreter_16
    361                  {
    362                      if (Net->Status.RepeatOrder<10)      //powtórz rozkaz
   \   0000010A   7079               LDRB     R0,[R6, #+5]
   \   0000010C   0A28               CMP      R0,#+10
   \   0000010E   18D2               BCS      ??AP_AssociateResponseInterpreter_18
    363                      {
    364                         Net->Status.RepeatOrder++;
   \   00000110   401C               ADDS     R0,R0,#+1
   \   00000112   7071               STRB     R0,[R6, #+5]
    365                         AP_Associate(Buff_RX, Buff_TX,  USART, Net);
   \   00000114   3300               MOVS     R3,R6
   \   00000116   2A00               MOVS     R2,R5
   \   00000118   3900               MOVS     R1,R7
   \   0000011A   2000               MOVS     R0,R4
   \   0000011C   ........           BL       AP_Associate
    366                         Net->Status.Timeout=g_counter + CRYTICAL_TIMEOUT;    //przed³u¿enie /restart timeoutu
   \   00000120   3400               MOVS     R4,R6
   \   00000122   3834               ADDS     R4,R4,#+56
   \   00000124   1348               LDR      R0,??AP_AssociateResponseInterpreter_1  ;; g_counter
   \   00000126   0CC8               LDM      R0!,{R2,R3}
   \   00000128   1448               LDR      R0,??AP_AssociateResponseInterpreter_1+0x8  ;; 0x2710
   \   0000012A   0021               MOVS     R1,#+0
   \   0000012C   8018               ADDS     R0,R0,R2
   \   0000012E   5941               ADCS     R1,R1,R3
   \   00000130   03C4               STM      R4!,{R0,R1}
    367                         Net->Status.FreezTime=g_counter+FREEZ_TIME;
   \   00000132   4036               ADDS     R6,R6,#+64
   \   00000134   0F48               LDR      R0,??AP_AssociateResponseInterpreter_1  ;; g_counter
   \   00000136   03C8               LDM      R0!,{R0,R1}
   \   00000138   0022               MOVS     R2,#+0
   \   0000013A   3230               ADDS     R0,R0,#+50
   \   0000013C   5141               ADCS     R1,R1,R2
   \   0000013E   03C6               STM      R6!,{R0,R1}
   \   00000140   15E0               B        ??AP_AssociateResponseInterpreter_16
    368                      }else{
    369                         //ponowne po³¹czenie
    370                         Net->Status.FreezTime=g_counter+FREEZ_TIME;
   \                     ??AP_AssociateResponseInterpreter_18:
   \   00000142   0C48               LDR      R0,??AP_AssociateResponseInterpreter_1  ;; g_counter
   \   00000144   03C8               LDM      R0!,{R0,R1}
   \   00000146   0022               MOVS     R2,#+0
   \   00000148   3230               ADDS     R0,R0,#+50
   \   0000014A   5141               ADCS     R1,R1,R2
   \   0000014C   3064               STR      R0,[R6, #+64]
   \   0000014E   7164               STR      R1,[R6, #+68]
    371                         Net->Status.Timeout=g_counter + CRYTICAL_TIMEOUT;    //przed³u¿enie /restart timeoutu
   \   00000150   3400               MOVS     R4,R6
   \   00000152   3834               ADDS     R4,R4,#+56
   \   00000154   0748               LDR      R0,??AP_AssociateResponseInterpreter_1  ;; g_counter
   \   00000156   0CC8               LDM      R0!,{R2,R3}
   \   00000158   0848               LDR      R0,??AP_AssociateResponseInterpreter_1+0x8  ;; 0x2710
   \   0000015A   0021               MOVS     R1,#+0
   \   0000015C   8018               ADDS     R0,R0,R2
   \   0000015E   5941               ADCS     R1,R1,R3
   \   00000160   03C4               STM      R4!,{R0,R1}
    372                         Net->Status.CurrentOrder=WizFi_NC;
   \   00000162   0020               MOVS     R0,#+0
   \   00000164   B070               STRB     R0,[R6, #+2]
    373                         Net->Status.NextHttpOrder=WizFi_NC;
   \   00000166   F070               STRB     R0,[R6, #+3]
    374                         Net->Status.RepeatOrder=0;  
   \   00000168   7071               STRB     R0,[R6, #+5]
    375                         Net->Status.HostLink=DISCONNECTED; 
   \   0000016A   7070               STRB     R0,[R6, #+1]
    376                         Net->Status.AccesPointAssociate=DISCONNECTED;
   \   0000016C   3070               STRB     R0,[R6, #+0]
    377                      }
    378                    
    379                  }
    380                }  
    381                
    382          }
   \                     ??AP_AssociateResponseInterpreter_16:
   \   0000016E   F8BC               POP      {R3-R7}
   \   00000170   01BC               POP      {R0}
   \   00000172   0047               BX       R0               ;; return
   \                     ??AP_AssociateResponseInterpreter_1:
   \   00000174   ........           DC32     g_counter
   \   00000178   ........           DC32     `?<Constant "[ERROR">`
   \   0000017C   10270000           DC32     0x2710
    383                      
    384          
    385          
    386          
    387          
    388          
    389          //funkcja wykonywania zadañ HTTP

   \                                 In section Debug.txt, align 4, keep-with-next
    390          void HTTP_Task(char *Buff_RX, char *Buff_TX,  AT91PS_USART USART, _Net *Net)
    391          {
   \                     HTTP_Task:
   \   00000000   F1B5               PUSH     {R0,R4-R7,LR}
   \   00000002   0700               MOVS     R7,R0
   \   00000004   0E00               MOVS     R6,R1
   \   00000006   1500               MOVS     R5,R2
   \   00000008   1C00               MOVS     R4,R3
    392              if ((Net->Status.HttpNextQueryTime<=g_counter) || (Net->Status.HttpNextQueryTime==0))   //je¿eli spe³niony wymagany czas pomiêdzy odpytywaniami
   \   0000000A   2000               MOVS     R0,R4
   \   0000000C   3030               ADDS     R0,R0,#+48
   \   0000000E   03C8               LDM      R0!,{R0,R1}
   \   00000010   0D4A               LDR      R2,??HTTP_Task_0  ;; g_counter
   \   00000012   0CCA               LDM      R2!,{R2,R3}
   \   00000014   8B42               CMP      R3,R1
   \   00000016   06D8               BHI      ??HTTP_Task_1
   \   00000018   01D3               BCC      ??HTTP_Task_2
   \   0000001A   8242               CMP      R2,R0
   \   0000001C   03D2               BCS      ??HTTP_Task_1
   \                     ??HTTP_Task_2:
   \   0000001E   0029               CMP      R1,#+0
   \   00000020   0FD1               BNE      ??HTTP_Task_3
   \   00000022   0028               CMP      R0,#+0
   \   00000024   0DD1               BNE      ??HTTP_Task_3
    393              {
    394                  if (Net->Status.NextHttpOrder!=WizFi_NC)                                    //je¿eli jest oczekuj¹ce zadanie
   \                     ??HTTP_Task_1:
   \   00000026   E078               LDRB     R0,[R4, #+3]
   \   00000028   0028               CMP      R0,#+0
   \   0000002A   02D0               BEQ      ??HTTP_Task_4
    395                  {
    396                      Net->Status.CurrentOrder=Net->Status.NextHttpOrder;
    397                      Net->Status.NextHttpOrder=WizFi_NC;
   \   0000002C   0021               MOVS     R1,#+0
   \   0000002E   E170               STRB     R1,[R4, #+3]
   \   00000030   00E0               B        ??HTTP_Task_5
    398                  }else{
    399                      Net->Status.CurrentOrder=HTTP_GET;
   \                     ??HTTP_Task_4:
   \   00000032   1320               MOVS     R0,#+19
   \                     ??HTTP_Task_5:
   \   00000034   A070               STRB     R0,[R4, #+2]
    400                  }
    401                  
    402                  HTTP_Query(Buff_RX, Buff_TX,  USART, Net);  
   \   00000036   2300               MOVS     R3,R4
   \   00000038   2A00               MOVS     R2,R5
   \   0000003A   3100               MOVS     R1,R6
   \   0000003C   3800               MOVS     R0,R7
   \   0000003E   ........           BL       HTTP_Query
    403                  
    404                  
    405              }
    406              
    407          }
   \                     ??HTTP_Task_3:
   \   00000042   F8BC               POP      {R3-R7}
   \   00000044   01BC               POP      {R0}
   \   00000046   0047               BX       R0               ;; return
   \                     ??HTTP_Task_0:
   \   00000048   ........           DC32     g_counter

   \                                 In section Debug.txt, align 4, keep-with-next
   \                     ??DataTable3:
   \   00000000   10270000           DC32     0x2710

   \                                 In section Debug.txt, align 4, keep-with-next
   \                     ??DataTable5:
   \   00000000   ........           DC32     g_counter

   \                                 In section .rodata, align 4
   \                     `?<Constant "[DISCONNECT">`:
   \   00000000   5B444953434F       DC8 "[DISCONNECT"
   \              4E4E45435400
   \   0000000C   5B4552524F52       DC8 "[ERROR: INVALID INPUT]"
   \              3A20494E5641
   \              4C494420494E
   \              5055545D00  
   \   00000023   00                 DC8 0
   \   00000024   73656E642829       DC8 "send() failed:"
   \              206661696C65
   \              643A00      
   \   00000033   00                 DC8 0
   \   00000034   5B4449534153       DC8 "[DISASSOCIATED]"
   \              534F43494154
   \              45445D00    
   \   00000044   5B4552524F52       DC8 "[ERROR]"
   \              5D00        

   \                                 In section .rodata, align 4
   \                     `?<Constant "[ERROR">`:
   \   00000000   5B4552524F52       DC8 "[ERROR"
   \              00          
   \   00000007   00                 DC8 0
    408          

   Maximum stack usage in bytes:

     Function                       .cstack
     --------                       -------
     AP_Associate                       24
     AP_AssociateResponseInterpreter
                                        24
     CheckVarChangeHTTP                 32
     HTTP_Task                          24
     InitWizFi                          16
     WiFi                               24
     WizFiResponseInterpreter           24


   Section sizes:

     Function/Label                 Bytes
     --------------                 -----
     WiFiDebug                         1
     CheckVarChangeHTTP              368
     AnalogPeriod                      8
     pt1                               8
     InitWizFi                       100
     WiFi                            258
     WizFiResponseInterpreter        332
     AP_Associate                    178
     AP_AssociateResponseInterpreter
                                     384
     HTTP_Task                        76
     ??DataTable3                      4
     ??DataTable5                      4
     ?<Constant "[DISCONNECT">        76
     ?<Constant "[ERROR">              8

 
    17 bytes in section .bss
    84 bytes in section .rodata
 1 704 bytes in section Debug.txt
 
 1 704 bytes of CODE  memory
    84 bytes of CONST memory
    17 bytes of DATA  memory

Errors: none
Warnings: 15
